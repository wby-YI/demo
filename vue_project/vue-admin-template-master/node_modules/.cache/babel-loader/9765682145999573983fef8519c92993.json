{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\SpuForm\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\SpuForm\\index.vue","mtime":1653888705674},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6L1VzZXJzL3hpYW8vRGVza3RvcC92dWVfcHJvamVjdC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3hpYW8vRGVza3RvcC92dWVfcHJvamVjdC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTcHVGb3JtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICIiLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy9zcHXlsZ7mgKfliJ3lp4vljJbnmoTml7blgJnmmK/kuIDkuKrnqbrnmoTlr7nosaEs5Zyo5L+u5pS5U1BV55qE5pe25YCZ77yM5Lya5ZCR5pyN5Yqh5Zmo5Y+R6K+35rGC77yM6L+U5ZueU1BV5L+h5oGv77yI5a+56LGh77yJ77yM5Zyo5L+u5pS555qE5pe25YCZ5Y+v5Lul5Yip55So5pyN5Yqh5Zmo6L+U5Zue55qE6L+Z5Liq5a+56LGh5pS26ZuG5pyA5paw55qE5pWw5o2u5o+Q5Lqk57uZ5pyN5Yqh5ZmoCiAgICAgIC8v5re75YqgU1BV77ya5aaC5p6c5piv5re75YqgU1BV55qE5pe25YCZ77yM5bm25rKh5pyJ5ZCR5pyN5Yqh5Zmo5Y+R6K+35rGC77yM5pWw5o2u5pS26ZuG5Yiw5ZOq6YeM77yfW1NQVV3vvIzmlLbpm4bmlbDmja7nmoTml7blgJnmnInlk6rkupvlrZfmrrXlkaLvvJ/nnIvmlofmoaMKICAgICAgc3B1OiB7CiAgICAgICAgLy/kuInnuqfliIbnsbvnmoRpZAogICAgICAgIGNhdGVnb3J5M0lkOiAwLAogICAgICAgIC8v5o+P6L+wCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIC8vc3B15ZCN56ewCiAgICAgICAgc3B1TmFtZTogIiIsCiAgICAgICAgLy/lk4HniYznmoRpZAogICAgICAgIHRtSWQ6ICIiLAogICAgICAgIC8v5pS26ZuGU1BV5Zu+54mH55qE5L+h5oGvCiAgICAgICAgc3B1SW1hZ2VMaXN0OiBbLy8gewogICAgICAgICAgLy8gICBpZDogMCwKICAgICAgICAgIC8vICAgaW1nTmFtZTogInN0cmluZyIsCiAgICAgICAgICAvLyAgIGltZ1VybDogInN0cmluZyIsCiAgICAgICAgICAvLyAgIHNwdUlkOiAwLAogICAgICAgICAgLy8gfSwKICAgICAgICBdLAogICAgICAgIC8v5bmz5Y+w6ZSA5ZSu5bGe5oCn5LiO5bGe5oCn5YC85pS26ZuGCiAgICAgICAgc3B1U2FsZUF0dHJMaXN0OiBbLy8gewogICAgICAgICAgLy8gICBiYXNlU2FsZUF0dHJJZDogMCwKICAgICAgICAgIC8vICAgaWQ6IDAsCiAgICAgICAgICAvLyAgIHNhbGVBdHRyTmFtZTogInN0cmluZyIsCiAgICAgICAgICAvLyAgIHNwdUlkOiAwLAogICAgICAgICAgLy8gICBzcHVTYWxlQXR0clZhbHVlTGlzdDogWwogICAgICAgICAgLy8gICAgIHsKICAgICAgICAgIC8vICAgICAgIGJhc2VTYWxlQXR0cklkOiAwLAogICAgICAgICAgLy8gICAgICAgaWQ6IDAsCiAgICAgICAgICAvLyAgICAgICBpc0NoZWNrZWQ6ICJzdHJpbmciLAogICAgICAgICAgLy8gICAgICAgc2FsZUF0dHJOYW1lOiAic3RyaW5nIiwKICAgICAgICAgIC8vICAgICAgIHNhbGVBdHRyVmFsdWVOYW1lOiAic3RyaW5nIiwKICAgICAgICAgIC8vICAgICAgIHNwdUlkOiAwLAogICAgICAgICAgLy8gICAgIH0sCiAgICAgICAgICAvLyAgIF0sCiAgICAgICAgICAvLyB9LAogICAgICAgIF0KICAgICAgfSwKICAgICAgdHJhZGVNYXJrTGlzdDogW10sCiAgICAgIC8v5a2Y5YKo5ZOB54mM5L+h5oGvCiAgICAgIHNwdUltYWdlTGlzdDogW10sCiAgICAgIC8v5a2Y5YKoU1BV5Zu+54mH55qE5pWw5o2uCiAgICAgIHNhbGVBdHRyTGlzdDogW10sCiAgICAgIC8v6ZSA5ZSu5bGe5oCn55qE5pWw5o2u77yI6aG555uu5YWo6YOo55qE6ZSA5ZSu5bGe5oCn77yJCiAgICAgIGF0dHJJZEFuZEF0dHJOYW1lOiAiIiAvL+aUtumbhuacqumAieaLqeeahOmUgOWUruWxnuaAp+eahGlk5ZKMbmFtZS0tLS0tCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v54Wn54mH5aKZ5Yig6Zmk5p+Q5LiA5Liq5Zu+54mH55qE5pe25YCZ5Lya6Kem5Y+RCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAvL2ZpbGXlj4LmlbA65Luj6KGo55qE5piv5Yig6Zmk55qE6YKj5byg5Zu+54mHCiAgICAgIC8vZmlsZUxpc3Q654Wn54mH5aKZ5Yig6Zmk5p+Q5LiA5byg5Zu+54mH5Lul5ZCO77yM5Ymp5L2Z55qE5YW25LuW5Zu+54mHCiAgICAgIC8vIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0LDIyMjIyKTsKICAgICAgLy/mlLbpm4bnhafniYflopnlm77niYfnmoTmlbDmja4KICAgICAgLy/lr7nkuo7lt7LmnInnmoTlm77niYfjgJDnhafniYflopnkuK3mmL7npLrnmoTlm77niYfvvJrmnIluYW1l44CBdXJs5a2X5q6155qE44CR77yM5Zug5Li654Wn54mH5aKZ5pi+56S65pWw5o2u5Yqh5b+F6KaB5pyJ6L+Z5Lik5Liq5bGe5oCnCiAgICAgIC8v5a+55LqO5pyN5Yqh5Zmo6ICM6KiA77yM5LiN6ZyA6KaBbmFtZeOAgXVybOWtl+aute+8jOWwhuadpeWvueS6juW3suacieeahOWbvueJh+eahOaVsOaNruWcqOaPkOS6pOe7meacjeWKoeWZqOeahOaXtuWAme+8jOmcgOimgeWkhOeQhueahAogICAgICB0aGlzLnNwdUltYWdlTGlzdCA9IGZpbGVMaXN0OwogICAgfSwKICAgIC8v54Wn54mH5aKZ5Zu+54mH6aKE6KeI55qE5Zue6LCDCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAgIC8v5bCG5Zu+54mH5Zyw5Z2A6LWL5YC857uZ6L+Z5Liq5bGe5oCnCiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsgLy/lr7nor53moYbmmL7npLoKCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy/liJ3lp4vljJZTcHVGb3Jt5pWw5o2uCiAgICBpbml0U3B1RGF0YTogZnVuY3Rpb24gaW5pdFNwdURhdGEoc3B1KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzcHVSZXN1bHQsIHRyYWRlTWFya1Jlc3VsdCwgc3B1SW1hZ2VSZXN1bHQsIGxpc3RBcnIsIHNhbGVSZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJEFQSS5zcHUucmVxU3B1KHNwdS5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHNwdVJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHNwdVJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAvL+WcqOS/ruaUuXNwdeeahOaXtuWAmSzpnIDopoHlkJHmnI3liqHlmajlj5Hor7fmsYLnmoTvvIzmiormnI3liqHlmajov5Tlm57nmoTmlbDmja7vvIjlr7nosaHvvInvvIzotYvlgLznu5lzcHXlsZ7mgKcKICAgICAgICAgICAgICAgICAgX3RoaXMuc3B1ID0gc3B1UmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICB9IC8v6I635Y+W5ZOB54mM55qE5L+h5oGvCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkuc3B1LnJlcVRyYWRlTWFya0xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdHJhZGVNYXJrUmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAodHJhZGVNYXJrUmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRyYWRlTWFya0xpc3QgPSB0cmFkZU1hcmtSZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIH0gLy/ojrflj5ZzcHXlm77niYfnmoTmlbDmja4KCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkuc3B1LnJlcVNwdUltYWdlTGlzdChzcHUuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgc3B1SW1hZ2VSZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChzcHVJbWFnZVJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBsaXN0QXJyID0gc3B1SW1hZ2VSZXN1bHQuZGF0YTsgLy/nlLHkuo7nhafniYflopnmmL7npLrlm77niYfnmoTmlbDmja7pnIDopoHmlbDnu4TvvIzmlbDnu4Tph4zpnaLnmoTlhYPntKDpnIDopoHmnIluYW1l5LiOdXJs5a2X5q61CiAgICAgICAgICAgICAgICAgIC8v6ZyA6KaB5oqK5pyN5Yqh5Zmo6L+U5Zue55qE5pWw5o2u6L+b6KGM5L+u5pS5CgogICAgICAgICAgICAgICAgICBsaXN0QXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLmltZ05hbWU7CiAgICAgICAgICAgICAgICAgICAgaXRlbS51cmwgPSBpdGVtLmltZ1VybDsKICAgICAgICAgICAgICAgICAgfSk7IC8v5oqK5pW055CG5aW955qE5pWw5o2u6LWL5YC857uZCgogICAgICAgICAgICAgICAgICBfdGhpcy5zcHVJbWFnZUxpc3QgPSBsaXN0QXJyOwogICAgICAgICAgICAgICAgfSAvL+iOt+WPluW5s+WPsOWFqOmDqOeahOmUgOWUruWxnuaApwoKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJEFQSS5zcHUucmVxQmFzZVNhbGVBdHRyTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgc2FsZVJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHNhbGVSZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2FsZUF0dHJMaXN0ID0gc2FsZVJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v54Wn54mH5aKZ5Zu+54mH5LiK5Lyg5oiQ5Yqf55qE5Zue6LCDCiAgICBoYW5kbGVyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlclN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIC8v5pS26ZuG5Zu+54mH55qE5L+h5oGvCiAgICAgIHRoaXMuc3B1SW1hZ2VMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgLy/mt7vliqDmlrDnmoTplIDllK7lsZ7mgKcKICAgIGFkZFNhbGVBdHRyOiBmdW5jdGlvbiBhZGRTYWxlQXR0cigpIHsKICAgICAgLy/lt7Lnu4/mlLbpm4bpnIDopoHmt7vliqDnmoTplIDllK7lsZ7mgKfnmoTkv6Hmga8KICAgICAgLy/miormlLbpm4bliLDnmoTplIDllK7lsZ7mgKfmlbDmja7ov5vooYzliIblibIKICAgICAgdmFyIF90aGlzJGF0dHJJZEFuZEF0dHJOYSA9IHRoaXMuYXR0cklkQW5kQXR0ck5hbWUuc3BsaXQoIjoiKSwKICAgICAgICAgIF90aGlzJGF0dHJJZEFuZEF0dHJOYTIgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRhdHRySWRBbmRBdHRyTmEsIDIpLAogICAgICAgICAgYmFzZVNhbGVBdHRySWQgPSBfdGhpcyRhdHRySWRBbmRBdHRyTmEyWzBdLAogICAgICAgICAgc2FsZUF0dHJOYW1lID0gX3RoaXMkYXR0cklkQW5kQXR0ck5hMlsxXTsgLy/lkJFTUFXlr7nosaHnmoRzcHVTYWxlQXR0ckxpc3TlsZ7mgKfph4zpnaLmt7vliqDmlrDnmoTplIDllK7lsZ7mgKcKCgogICAgICB2YXIgbmV3U2FsZUF0dHIgPSB7CiAgICAgICAgYmFzZVNhbGVBdHRySWQ6IGJhc2VTYWxlQXR0cklkLAogICAgICAgIHNhbGVBdHRyTmFtZTogc2FsZUF0dHJOYW1lLAogICAgICAgIHNwdVNhbGVBdHRyVmFsdWVMaXN0OiBbXQogICAgICB9OyAvL+a3u+WKoOaWsOeahOmUgOWUruWxnuaApwoKICAgICAgdGhpcy5zcHUuc3B1U2FsZUF0dHJMaXN0LnB1c2gobmV3U2FsZUF0dHIpOyAvL+a4heepuuaVsOaNrgoKICAgICAgdGhpcy5hdHRySWRBbmRBdHRyTmFtZSA9ICIiOwogICAgfSwKICAgIC8v5re75Yqg5oyJ6ZKu55qE5Zue6LCDCiAgICBhZGRTYWxlQXR0clZhbHVlOiBmdW5jdGlvbiBhZGRTYWxlQXR0clZhbHVlKHJvdykgewogICAgICAvL+eCueWHu+mUgOWUruWxnuaAp+WAvOW9k+S4rea3u+WKoOaMiemSrueahOaXtuWAme+8jOmcgOimgeeUsWJ1dHRvbuWPmOS4umlucHV0LOmAmui/h+W9k+WJjemUgOWUruWxnuaAp+eahGlucHV0VmlzaWJsZeaOp+WItgogICAgICAvL+aMgui9veWcqOmUgOWUruWxnuaAp+i6q+S4iueahOWTjeW6lOW8j+aVsOaNrmlucHV0VmlzaWJsZe+8jOaOp+WItmJ1dHRvbuS4jmlucHV05YiH5o2iCiAgICAgIHRoaXMuJHNldChyb3csICJpbnB1dFZpc2libGUiLCB0cnVlKTsgLy/pgJrov4flk43lupTlvI/mlbDmja5pbnB1dFZhbHVl5a2X5q615pS26ZuG5paw5aKe55qE6ZSA5ZSu5bGe5oCn5YC8CgogICAgICB0aGlzLiRzZXQocm93LCAiaW5wdXRWYWx1ZSIsICIiKTsKICAgIH0sCiAgICAvL2VsLWlucHV05aSx5Y2054Sm54K555qE5LqL5Lu2CiAgICBoYW5kbGVJbnB1dENvbmZpcm06IGZ1bmN0aW9uIGhhbmRsZUlucHV0Q29uZmlybShyb3cpIHsKICAgICAgLy/op6PmnoTlh7rplIDllK7lsZ7mgKflvZPkuK3mlLbpm4bmlbDmja4KICAgICAgdmFyIGJhc2VTYWxlQXR0cklkID0gcm93LmJhc2VTYWxlQXR0cklkLAogICAgICAgICAgaW5wdXRWYWx1ZSA9IHJvdy5pbnB1dFZhbHVlOyAvL+aWsOWinueahOmUgOWUruWxnuaAp+WAvOeahOWQjeensOS4jeiDveS4uuepugoKICAgICAgaWYgKGlucHV0VmFsdWUudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgi5bGe5oCn5YC85LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8v5bGe5oCn5YC85LiN6IO96YeN5aSNLOi/memHjOS5n+WPr+S7peeUqHNvbWUKCgogICAgICB2YXIgcmVzdWx0ID0gcm93LnNwdVNhbGVBdHRyVmFsdWVMaXN0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc2FsZUF0dHJWYWx1ZU5hbWUgIT0gaW5wdXRWYWx1ZTsKICAgICAgfSAvL+ayoemHjeWkjeeahOS4uuecn++8jOmHjeWkjeS6hueahOS4umZhbHNlCiAgICAgIC8vZXZlcnkg5Y+q6KaB5pyJ5LiA6aG55Li6ZmFsc2XvvIzlsLHkuLpmYWxzZe+8iOi/memHjOS5n+WwseaYr++8muWPquimgeaciemHjeWkjeS6hueahO+8jOWwsei/lOWbnmZhbHNl77yJCiAgICAgICk7IC8v6YeN5aSN5LqG55qE5oOF5Ya177ya6Z2eZmFsc2XkuLp0cnVl77yM5bCx55u05o6lcmV0dXJuIOS4jeaJp+ihjOS6hgoKICAgICAgaWYgKCFyZXN1bHQpIHJldHVybjsgLy/mlrDlop7nmoTplIDllK7lsZ7mgKflgLwKCiAgICAgIHZhciBuZXdTYWxlQXR0clZhbHVlID0gewogICAgICAgIGJhc2VTYWxlQXR0cklkOiBiYXNlU2FsZUF0dHJJZCwKICAgICAgICBzYWxlQXR0clZhbHVlTmFtZTogaW5wdXRWYWx1ZQogICAgICB9OyAvL+aWsOWingoKICAgICAgcm93LnNwdVNhbGVBdHRyVmFsdWVMaXN0LnB1c2gobmV3U2FsZUF0dHJWYWx1ZSk7IC8v5L+u5pS5aW5wdXRWaXNpYmxl5Li6ZmFsc2XvvIzlsLHmmL7npLpidXR0b24KCiAgICAgIHJvdy5pbnB1dFZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvL+S/neWtmOaMiemSrueahOWbnuiwgwogICAgYWRkT3JVcGRhdGVTcHU6IGZ1bmN0aW9uIGFkZE9yVXBkYXRlU3B1KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8v5pW055CG5Y+C5pWw77ya6ZyA6KaB5pW055CG54Wn54mH5aKZ55qE5pWw5o2uCiAgICAgICAgICAgICAgICAvL+aQuuW4puWPguaVsO+8muWvueS6juWbvueJh++8jOmcgOimgeaQuuW4pmltYWdlTmFtZeS4jmltYWdlVXJs5a2X5q61CiAgICAgICAgICAgICAgICAvL21hcCDmmKDlsITlt7LmnInnmoTmlbDmja7vvIxyZXR1cm7lh7rmnaXnmoTnu5PmnpzotYvlgLznu5nmlrDnmoTmlbDnu4QKICAgICAgICAgICAgICAgIF90aGlzMi5zcHUuc3B1SW1hZ2VMaXN0ID0gX3RoaXMyLnNwdUltYWdlTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBpbWdOYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgaW1nVXJsOiBpdGVtLnJlc3BvbnNlICYmIGl0ZW0ucmVzcG9uc2UuZGF0YSB8fCBpdGVtLnVybCAvLyBpbWdVcmw6IGl0ZW0uaW1nVXJsPyBpdGVtLmltZ1VybDogaXRlbS5yZXNwb25zZS5kYXRhLAoKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOyAvL+WPkeivt+axggoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJEFQSS5zcHUucmVxQWRkT3JVcGRhdGVTcHUoX3RoaXMyLnNwdSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgLy/mj5DnpLoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOaIkOWKnyIKICAgICAgICAgICAgICAgICAgfSk7IC8v6YCa55+l54i257uE5Lu25Zue5Yiw5Zy65pmvMAoKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kZW1pdCgiY2hhbmdlU2NlbmUiLCB7CiAgICAgICAgICAgICAgICAgICAgc2NlbmU6IDAsCiAgICAgICAgICAgICAgICAgICAgZmxhZzogX3RoaXMyLnNwdS5pZCA/ICLkv67mlLkiIDogIua3u+WKoCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IC8v5riF6Zmk5pWw5o2uCgoKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMyLl9kYXRhLCBfdGhpczIuJG9wdGlvbnMuZGF0YSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ngrnlh7vmt7vliqBTUFXmjInpkq7nmoTml7blgJnvvIzlj5Hor7fmsYLnmoTlh73mlbAKICAgIGFkZFNwdURhdGE6IGZ1bmN0aW9uIGFkZFNwdURhdGEoY2F0ZWdvcnkzSWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgdHJhZGVNYXJrUmVzdWx0LCBzYWxlUmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvL+a3u+WKoFNQVeeahOaXtuWAmeaUtumbhuS4iee6p+WIhuexu+eahGlkCiAgICAgICAgICAgICAgICBfdGhpczMuc3B1LmNhdGVnb3J5M0lkID0gY2F0ZWdvcnkzSWQ7IC8v6I635Y+W5ZOB54mM55qE5L+h5oGvCgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kQVBJLnNwdS5yZXFUcmFkZU1hcmtMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRyYWRlTWFya1Jlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICh0cmFkZU1hcmtSZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnRyYWRlTWFya0xpc3QgPSB0cmFkZU1hcmtSZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIH0gLy/ojrflj5blubPlj7Dlhajpg6jnmoTplIDllK7lsZ7mgKcKCgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kQVBJLnNwdS5yZXFCYXNlU2FsZUF0dHJMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHNhbGVSZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoc2FsZVJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuc2FsZUF0dHJMaXN0ID0gc2FsZVJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIC8v5Y+W5raI5oyJ6ZKu55qE5Zue6LCD77yM6YCa55+l54i25Lqy5YiH5o2i5Zy65pmv5Li6MAogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VTY2VuZSIsIHsKICAgICAgICBzY2VuZTogMCwKICAgICAgICBmbGFnOiAiIgogICAgICB9KTsgLy/muIXnkIbmlbDmja4KICAgICAgLy9PYmplY3QuYXNzaWduOmVzNuS4reaWsOWinueahOaWueazleWPr+S7peWQiOW5tuWvueixoQogICAgICAvL+e7hOS7tuWunuS+i3RoaXMuX2RhdGEs5Y+v5Lul5pON5L2cZGF0YeW9k+S4reWTjeW6lOW8j+aVsOaNrgogICAgICAvL3RoaXMuJG9wdGlvbnPlj6/ku6Xojrflj5bphY3nva7lr7nosaHvvIzphY3nva7lr7nosaHnmoRkYXRh5Ye95pWw5omn6KGM77yM6L+U5Zue55qE5ZON5bqU5byP5pWw5o2u5Li656m655qECgogICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIHRoaXMuJG9wdGlvbnMuZGF0YSgpKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+iuoeeul+WHuui/mOacqumAieaLqeeahOmUgOWUruWxnuaApwogICAgdW5TZWxlY3RTYWxlQXR0cjogZnVuY3Rpb24gdW5TZWxlY3RTYWxlQXR0cigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAvL+aVtOS4quW5s+WPsOeahOmUgOWUruWxnuaAp+S4gOWFseS4ieS4qu+8muWwuuWvuOOAgeminOiJsuOAgeeJiOacrCAtLS0tc2FsZUF0dHJMaXN0CiAgICAgIC8v5b2T5YmNU1BV5oul5pyJ55qE5bGe5LqO6Ieq5bex55qE6ZSA5ZSu5bGe5oCnc3B1LnNwdVNhbGVBdHRyTGlzdCAgLS0tLeminOiJsgogICAgICAvL+aVsOe7hOeahOi/h+a7pOaWueazle+8jOWPr+S7peS7juW3suacieeahOaVsOe7hOW9k+S4rei/h+a7pOWHuueUqOaIt+mcgOimgeeahOWFg+e0oO+8jOW5tuacqui/lOWbnuS4gOS4quaWsOeahOaVsOaNrgogICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zYWxlQXR0ckxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgLy9ldmVyeeaVsOe7hOeahOaWueazle+8jOS8mui/lOWbnuS4gOS4quW4g+WwlOWAvOOAkOecn++8jOWBh+eahOOAkQogICAgICAgIHJldHVybiBfdGhpczQuc3B1LnNwdVNhbGVBdHRyTGlzdC5ldmVyeShmdW5jdGlvbiAoaXRlbTEpIHsKICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgIT0gaXRlbTEuc2FsZUF0dHJOYW1lOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["name","data","dialogImageUrl","dialogVisible","spu","category3Id","description","spuName","tmId","spuImageList","spuSaleAttrList","tradeMarkList","saleAttrList","attrIdAndAttrName","methods","handleRemove","file","fileList","handlePictureCardPreview","initSpuData","spuResult","tradeMarkResult","spuImageResult","listArr","item","saleResult","handlerSuccess","response","addSaleAttr","baseSaleAttrId","saleAttrName","spuSaleAttrValueList","addSaleAttrValue","row","handleInputConfirm","saleAttrValueName","addOrUpdateSpu","imgName","imgUrl","result","type","message","scene","flag","Object","addSpuData","cancel","computed","unSelectSaleAttr"],"sourceRoot":"src/views/product/Spu/SpuForm","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form ref=\"form\" label-width=\"80px\" :model=\"spu\">\n      <el-form-item label=\"SPU名称\">\n        <el-input placeholder=\"SPU名称\" v-model=\"spu.spuName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"品牌\">\n        <el-select placeholder=\"请选择品牌\" v-model=\"spu.tmId\">\n          <el-option\n            :label=\"tm.tmName\"\n            :value=\"tm.id\"\n            v-for=\"(tm, index) in tradeMarkList\"\n            :key=\"tm.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"SPU描述\">\n        <el-input\n          type=\"textarea\"\n          rows=\"4\"\n          placeholder=\"描述\"\n          v-model=\"spu.description\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"SPU图片\">\n        <!-- 上传图片：action图片上传的地址  list-type: 文件列表的类型 on-preview:图片预览的时候会触发  on-remove:当删除图片的时候会触发 \n         file-list：照片墙需要展示的数据【数组：数组里面的元素务必要有name、url属性】（预览展示）\n         on-preview：图片预览功能\n         on-remove:删除图片的时候会触发\n         on-success：文件上传成功的钩子\n        -->\n        <el-upload\n          action=\"/dev-api/admin/product/fileUpload\"\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :on-success=\"handlerSuccess\"\n          :file-list=\"spuImageList\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n        </el-dialog>\n      </el-form-item>\n      <el-form-item label=\"销售属性\">\n        <el-select\n          :placeholder=\"`还有${unSelectSaleAttr.length}未选择`\"\n          v-model=\"attrIdAndAttrName\"\n        >\n          <el-option\n            :label=\"unselect.name\"\n            :value=\"`${unselect.id}:${unselect.name}`\"\n            v-for=\"(unselect, index) in unSelectSaleAttr\"\n            :key=\"unselect.id\"\n          ></el-option>\n        </el-select>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          :disabled=\"!attrIdAndAttrName\"\n          @click=\"addSaleAttr\"\n          >添加销售属性</el-button\n        >\n        <!-- 展示的是当前SPU属于自己的销售属性 -->\n        <el-table style=\"width: 100%\" border :data=\"spu.spuSaleAttrList\">\n          <el-table-column\n            type=\"index\"\n            label=\"序号\"\n            width=\"80px\"\n            align=\"center\"\n          >\n          </el-table-column>\n          <el-table-column prop=\"saleAttrName\" label=\"属性名\" width=\"width\">\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"属性值名称列表\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <!--  \" -->\n              <!-- el-tag:用户展示已有属性值列表的数据的 -->\n              <el-tag\n                :key=\"tag.id\"\n                v-for=\"(tag, index) in row.spuSaleAttrValueList\"\n                closable\n                :disable-transitions=\"false\"\n                @close=\"row.spuSaleAttrValueList.splice(index, 1)\"\n                >{{ tag.saleAttrValueName }}</el-tag\n              >\n              <!-- 底下的结构可以当成咱们当年的span与input切换 -->\n              <!--  @keyup.enter.native=\"handleInputConfirm\"  -->\n              <el-input\n                class=\"input-new-tag\"\n                v-if=\"row.inputVisible\"\n                v-model=\"row.inputValue\"\n                ref=\"saveTagInput\"\n                size=\"small\"\n                @blur=\"handleInputConfirm(row)\"\n              >\n              </el-input>\n              <!-- @click=\"showInput\" -->\n              <el-button\n                v-else\n                class=\"button-new-tag\"\n                size=\"small\"\n                @click=\"addSaleAttrValue(row)\"\n                >添加</el-button\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                @click=\"spu.spuSaleAttrList.splice($index, 1)\"\n              ></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"addOrUpdateSpu\">保存</el-button>\n        <el-button @click=\"cancel\">取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SpuForm\",\n  data() {\n    return {\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n\n      //spu属性初始化的时候是一个空的对象,在修改SPU的时候，会向服务器发请求，返回SPU信息（对象），在修改的时候可以利用服务器返回的这个对象收集最新的数据提交给服务器\n      //添加SPU：如果是添加SPU的时候，并没有向服务器发请求，数据收集到哪里？[SPU]，收集数据的时候有哪些字段呢？看文档\n      spu: {\n        //三级分类的id\n        category3Id: 0,\n        //描述\n        description: \"\",\n        //spu名称\n        spuName: \"\",\n        //品牌的id\n        tmId: \"\",\n        //收集SPU图片的信息\n        spuImageList: [\n          // {\n          //   id: 0,\n          //   imgName: \"string\",\n          //   imgUrl: \"string\",\n          //   spuId: 0,\n          // },\n        ],\n        //平台销售属性与属性值收集\n        spuSaleAttrList: [\n          // {\n          //   baseSaleAttrId: 0,\n          //   id: 0,\n          //   saleAttrName: \"string\",\n          //   spuId: 0,\n          //   spuSaleAttrValueList: [\n          //     {\n          //       baseSaleAttrId: 0,\n          //       id: 0,\n          //       isChecked: \"string\",\n          //       saleAttrName: \"string\",\n          //       saleAttrValueName: \"string\",\n          //       spuId: 0,\n          //     },\n          //   ],\n          // },\n        ],\n      },\n      tradeMarkList: [], //存储品牌信息\n      spuImageList: [], //存储SPU图片的数据\n      saleAttrList: [], //销售属性的数据（项目全部的销售属性）\n      attrIdAndAttrName: \"\", //收集未选择的销售属性的id和name-----\n    };\n  },\n  methods: {\n    //照片墙删除某一个图片的时候会触发\n    handleRemove(file, fileList) {\n      //file参数:代表的是删除的那张图片\n      //fileList:照片墙删除某一张图片以后，剩余的其他图片\n      // console.log(file, fileList,22222);\n      //收集照片墙图片的数据\n      //对于已有的图片【照片墙中显示的图片：有name、url字段的】，因为照片墙显示数据务必要有这两个属性\n      //对于服务器而言，不需要name、url字段，将来对于已有的图片的数据在提交给服务器的时候，需要处理的\n      this.spuImageList = fileList;\n    },\n    //照片墙图片预览的回调\n    handlePictureCardPreview(file) {\n      //将图片地址赋值给这个属性\n      this.dialogImageUrl = file.url;\n      //对话框显示\n      this.dialogVisible = true;\n    },\n    //初始化SpuForm数据\n    async initSpuData(spu) {\n      //获取SPU信息的数据\n      let spuResult = await this.$API.spu.reqSpu(spu.id);\n      if (spuResult.code == 200) {\n        //在修改spu的时候,需要向服务器发请求的，把服务器返回的数据（对象），赋值给spu属性\n        this.spu = spuResult.data;\n      }\n      //获取品牌的信息\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\n      if (tradeMarkResult.code == 200) {\n        this.tradeMarkList = tradeMarkResult.data;\n      }\n      //获取spu图片的数据\n      let spuImageResult = await this.$API.spu.reqSpuImageList(spu.id);\n      if (spuImageResult.code == 200) {\n        let listArr = spuImageResult.data;\n        //由于照片墙显示图片的数据需要数组，数组里面的元素需要有name与url字段\n        //需要把服务器返回的数据进行修改\n        listArr.forEach((item) => {\n          item.name = item.imgName;\n          item.url = item.imgUrl;\n        });\n        //把整理好的数据赋值给\n        this.spuImageList = listArr;\n      }\n      //获取平台全部的销售属性\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\n      if (saleResult.code == 200) {\n        this.saleAttrList = saleResult.data;\n      }\n    },\n    //照片墙图片上传成功的回调\n    handlerSuccess(response, file, fileList) {\n      //收集图片的信息\n      this.spuImageList = fileList;\n    },\n    //添加新的销售属性\n    addSaleAttr() {\n      //已经收集需要添加的销售属性的信息\n      //把收集到的销售属性数据进行分割\n      const [baseSaleAttrId, saleAttrName] = this.attrIdAndAttrName.split(\":\");\n      //向SPU对象的spuSaleAttrList属性里面添加新的销售属性\n      let newSaleAttr = {\n        baseSaleAttrId,\n        saleAttrName,\n        spuSaleAttrValueList: [],\n      };\n      //添加新的销售属性\n      this.spu.spuSaleAttrList.push(newSaleAttr);\n      //清空数据\n      this.attrIdAndAttrName = \"\";\n    },\n    //添加按钮的回调\n    addSaleAttrValue(row) {\n      //点击销售属性值当中添加按钮的时候，需要由button变为input,通过当前销售属性的inputVisible控制\n      //挂载在销售属性身上的响应式数据inputVisible，控制button与input切换\n      this.$set(row, \"inputVisible\", true);\n      //通过响应式数据inputValue字段收集新增的销售属性值\n      this.$set(row, \"inputValue\", \"\");\n    },\n    //el-input失却焦点的事件\n    handleInputConfirm(row) {\n      //解构出销售属性当中收集数据\n      const { baseSaleAttrId, inputValue } = row;\n      //新增的销售属性值的名称不能为空\n      if (inputValue.trim() == \"\") {\n        this.$message(\"属性值不能为空\");\n        return;\n      }\n      //属性值不能重复,这里也可以用some\n      let result = row.spuSaleAttrValueList.every(\n        (item) => item.saleAttrValueName != inputValue\n        //没重复的为真，重复了的为false\n        //every 只要有一项为false，就为false（这里也就是：只要有重复了的，就返回false）\n      );\n      //重复了的情况：非false为true，就直接return 不执行了\n      if (!result) return;\n      //新增的销售属性值\n      let newSaleAttrValue = { baseSaleAttrId, saleAttrValueName: inputValue };\n      //新增\n      row.spuSaleAttrValueList.push(newSaleAttrValue);\n      //修改inputVisible为false，就显示button\n      row.inputVisible = false;\n    },\n    //保存按钮的回调\n    async addOrUpdateSpu() {\n      //整理参数：需要整理照片墙的数据\n      //携带参数：对于图片，需要携带imageName与imageUrl字段\n      //map 映射已有的数据，return出来的结果赋值给新的数组\n      this.spu.spuImageList = this.spuImageList.map((item) => {\n        return {\n          imgName: item.name,\n          imgUrl: (item.response && item.response.data) || item.url,\n          // imgUrl: item.imgUrl? item.imgUrl: item.response.data,\n        };\n      });\n      //发请求\n      let result = await this.$API.spu.reqAddOrUpdateSpu(this.spu);\n      if (result.code == 200) {\n        //提示\n        this.$message({ type: \"success\", message: \"保存成功\" });\n        //通知父组件回到场景0\n        this.$emit(\"changeScene\", {\n          scene: 0,\n          flag: this.spu.id ? \"修改\" : \"添加\",\n        });\n      }\n      //清除数据\n      Object.assign(this._data, this.$options.data());\n    },\n    //点击添加SPU按钮的时候，发请求的函数\n    async addSpuData(category3Id) {\n      //添加SPU的时候收集三级分类的id\n      this.spu.category3Id = category3Id;\n      //获取品牌的信息\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\n      if (tradeMarkResult.code == 200) {\n        this.tradeMarkList = tradeMarkResult.data;\n      }\n      //获取平台全部的销售属性\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\n      if (saleResult.code == 200) {\n        this.saleAttrList = saleResult.data;\n      }\n    },\n    //取消按钮\n    cancel() {\n      //取消按钮的回调，通知父亲切换场景为0\n      this.$emit(\"changeScene\", { scene: 0, flag: \"\" });\n      //清理数据\n      //Object.assign:es6中新增的方法可以合并对象\n      //组件实例this._data,可以操作data当中响应式数据\n      //this.$options可以获取配置对象，配置对象的data函数执行，返回的响应式数据为空的\n      Object.assign(this._data, this.$options.data());\n    },\n  },\n  computed: {\n    //计算出还未选择的销售属性\n    unSelectSaleAttr() {\n      //整个平台的销售属性一共三个：尺寸、颜色、版本 ----saleAttrList\n      //当前SPU拥有的属于自己的销售属性spu.spuSaleAttrList  ----颜色\n      //数组的过滤方法，可以从已有的数组当中过滤出用户需要的元素，并未返回一个新的数据\n      let result = this.saleAttrList.filter((item) => {\n        //every数组的方法，会返回一个布尔值【真，假的】\n        return this.spu.spuSaleAttrList.every((item1) => {\n          return item.name != item1.saleAttrName;\n        });\n      });\n      return result;\n    },\n  },\n};\n</script>\n\n<style>\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n"]}]}