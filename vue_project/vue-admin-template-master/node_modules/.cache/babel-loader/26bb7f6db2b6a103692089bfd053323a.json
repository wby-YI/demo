{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\store\\modules\\user.js","mtime":1652624610394},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js","mtime":1652600920878}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3hpYW8vRGVza3RvcC92dWVfcHJvamVjdC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luLCBsb2dvdXQgYXMgX2xvZ291dCwgZ2V0SW5mbyBhcyBfZ2V0SW5mbyB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgcmVzZXRSb3V0ZXIgfSBmcm9tICdAL3JvdXRlcic7Cgp2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIG5hbWU6ICcnLAogICAgYXZhdGFyOiAnJwogIH07Cn07Cgp2YXIgc3RhdGUgPSBnZXREZWZhdWx0U3RhdGUoKTsKdmFyIG11dGF0aW9ucyA9IHsKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgfSwKICBTRVRfQVZBVEFSOiBmdW5jdGlvbiBTRVRfQVZBVEFSKHN0YXRlLCBhdmF0YXIpIHsKICAgIHN0YXRlLmF2YXRhciA9IGF2YXRhcjsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8vIHVzZXIgbG9naW4gIOWkhOeQhueZu+W9leeahOS4muWKoQogIC8vIGxvZ2luKHsgY29tbWl0IH0sIHVzZXJJbmZvKSB7CiAgLy8gICAgIC8v6Kej5p6E5Ye655So5oi35ZCN5LiO5a+G56CBCiAgLy8gICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB1c2VySW5mbwogIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIC8vICAgICAgICAgbG9naW4oeyB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLCBwYXNzd29yZDogcGFzc3dvcmQgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgLy8gICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZQogIC8vICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbikKICAvLyAgICAgICAgICAgICBzZXRUb2tlbihkYXRhLnRva2VuKQogIC8vICAgICAgICAgICAgIHJlc29sdmUoKQogIC8vICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogIC8vICAgICAgICAgICAgIHJlamVjdChlcnJvcikKICAvLyAgICAgICAgIH0pCiAgLy8gICAgIH0pCiAgLy8gfSwKICAvL2FzeW5jIGF3YWl0IOeJiOacrO+8mgogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAvL+ino+aehOWHuueUqOaIt+WQjeS4juWvhueggQogICAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlckluZm8udXNlcm5hbWUsIHBhc3N3b3JkID0gdXNlckluZm8ucGFzc3dvcmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9sb2dpbih7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzdWx0LmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIHNldFRva2VuKHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgLy8gZ2V0IHVzZXIgaW5mbwogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9nZXRJbmZvKHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdWZXJpZmljYXRpb24gZmFpbGVkLCBwbGVhc2UgTG9naW4gYWdhaW4uJyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbmFtZSA9IGRhdGEubmFtZSwKICAgICAgICAgICAgYXZhdGFyID0gZGF0YS5hdmF0YXI7CiAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIG5hbWUpOwogICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIGF2YXRhcik7CiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dvdXQoc3RhdGUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgICAgcmVzZXRSb3V0ZXIoKTsKICAgICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gcmVtb3ZlIHRva2VuCiAgcmVzZXRUb2tlbjogZnVuY3Rpb24gcmVzZXRUb2tlbihfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"names":["login","logout","getInfo","getToken","setToken","removeToken","resetRouter","getDefaultState","token","name","avatar","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","SET_AVATAR","actions","userInfo","commit","username","password","trim","result","code","data","Promise","reject","Error","resolve","then","response","catch","error","resetToken","namespaced"],"sources":["C:/Users/xiao/Desktop/vue_project/vue-admin-template-master/src/store/modules/user.js"],"sourcesContent":["import { login, logout, getInfo } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { resetRouter } from '@/router'\n\nconst getDefaultState = () => {\n    return {\n        token: getToken(),\n        name: '',\n        avatar: ''\n    }\n}\n\nconst state = getDefaultState()\n\nconst mutations = {\n    RESET_STATE: (state) => {\n        Object.assign(state, getDefaultState())\n    },\n    SET_TOKEN: (state, token) => {\n        state.token = token\n    },\n    SET_NAME: (state, name) => {\n        state.name = name\n    },\n    SET_AVATAR: (state, avatar) => {\n        state.avatar = avatar\n    }\n}\n\nconst actions = {\n    // user login  处理登录的业务\n    // login({ commit }, userInfo) {\n    //     //解构出用户名与密码\n    //     const { username, password } = userInfo\n    //     return new Promise((resolve, reject) => {\n    //         login({ username: username.trim(), password: password }).then(response => {\n    //             const { data } = response\n    //             commit('SET_TOKEN', data.token)\n    //             setToken(data.token)\n    //             resolve()\n    //         }).catch(error => {\n    //             reject(error)\n    //         })\n    //     })\n    // },\n\n    //async await 版本：\n    async login({ commit }, userInfo) {\n        //解构出用户名与密码\n        const { username, password } = userInfo\n        let result = await login({ username: username.trim(), password: password })\n            // console.log(result);\n            //注意：当前登录请求现在使用的是mock数据，mock数据code是20000\n        if (result.code == 20000) {\n            commit('SET_TOKEN', result.data.token)\n            setToken(result.data.token)\n            return 'ok'\n        } else {\n            return Promise.reject(new Error('faile'))\n        }\n    },\n\n    // get user info\n    getInfo({ commit, state }) {\n        return new Promise((resolve, reject) => {\n            getInfo(state.token).then(response => {\n                const { data } = response\n\n                if (!data) {\n                    return reject('Verification failed, please Login again.')\n                }\n\n                const { name, avatar } = data\n\n                commit('SET_NAME', name)\n                commit('SET_AVATAR', avatar)\n                resolve(data)\n            }).catch(error => {\n                reject(error)\n            })\n        })\n    },\n\n    // user logout\n    logout({ commit, state }) {\n        return new Promise((resolve, reject) => {\n            logout(state.token).then(() => {\n                removeToken() // must remove  token  first\n                resetRouter()\n                commit('RESET_STATE')\n                resolve()\n            }).catch(error => {\n                reject(error)\n            })\n        })\n    },\n\n    // remove token\n    resetToken({ commit }) {\n        return new Promise(resolve => {\n            removeToken() // must remove  token  first\n            commit('RESET_STATE')\n            resolve()\n        })\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n}"],"mappings":"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"}]}