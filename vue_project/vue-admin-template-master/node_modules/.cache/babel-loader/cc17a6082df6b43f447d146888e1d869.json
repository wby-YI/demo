{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\store\\modules\\user.js","mtime":1653294375830},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js","mtime":1652600920878}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3hpYW8vRGVza3RvcC92dWVfcHJvamVjdC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKLy/lvJXlhaXnmbvlvZV86YCA5Ye655m75b2VfOiOt+WPlueUqOaIt+S/oeaBr+eahOaOpeWPo+WHveaVsAppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4sIGxvZ291dCBhcyBfbG9nb3V0LCBnZXRJbmZvIGFzIF9nZXRJbmZvIH0gZnJvbSAnQC9hcGkvdXNlcic7IC8vIOiOt+WPlnRva2VufOiuvue9rnRva2VufOWIoOmZpHRva2Vu55qE5Ye95pWwCgppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsgLy/ot6/nlLHmqKHlnZflvZPkuK3ph43nva7ot6/nlLHnmoTmlrnms5UKCmltcG9ydCB7IGFueVJvdXRlcywgcmVzZXRSb3V0ZXIsIGFzeW5jUm91dGVzLCBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBjbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCc7IC8v566t5aS05Ye95pWwCgp2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICAvL+iOt+WPlnRva2VuCiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIC8v5a2Y5YKo55So5oi35ZCNCiAgICBuYW1lOiAnJywKICAgIC8v5a2Y5YKo55So5oi35aS05YOPCiAgICBhdmF0YXI6ICcnLAogICAgLy/mnI3liqHlmajov5Tlm57nmoToj5zljZXkv6Hmga/jgJDmoLnmja7kuI3lkIznmoTop5LoibLvvJrov5Tlm57nmoTmoIforrDkv6Hmga/vvIzmlbDnu4Tph4zpnaLnmoTlhYPntKDmmK/lrZfnrKbkuLLjgJEKICAgIHJvdXRlczogW10sCiAgICAvL+inkuiJsuS/oeaBrwogICAgcm9sZXM6IFtdLAogICAgLy/mjInpkq7mnYPpmZDnmoTkv6Hmga8KICAgIGJ1dHRvbnM6IFtdLAogICAgLy/lr7nmr5TkuYvlkI7jgJDpobnnm67kuK3lt7LmnInnmoTlvILmraXot6/nlLHvvIzkuI7mnI3liqHlmajov5Tlm57nmoTmoIforrDkv6Hmga/ov5vooYzlr7nmr5TmnIDnu4jpnIDopoHlsZXnpLrnmoTot6/nlLHjgJEKICAgIHJlc3VsdEFzeW5jUm91dGVzOiBbXSwKICAgIC8v55So5oi35pyA57uI6ZyA6KaB5bGV56S65YWo6YOo6Lev55SxCiAgICByZXN1bHRBbGxScHV0ZXM6IFtdCiAgfTsKfTsKCnZhciBzdGF0ZSA9IGdldERlZmF1bHRTdGF0ZSgpOyAvL+WUr+S4gOS/ruaUuXN0YXRl55qE5Zyw5pa5Cgp2YXIgbXV0YXRpb25zID0gewogIC8v6YeN572uc3RhdGUKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIC8v5a2Y5YKodG9rZW4KICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICAvL+WtmOWCqOeUqOaIt+S/oeaBrwogIFNFVF9VU0VSSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJJTkZPKHN0YXRlLCB1c2VySW5mbykgewogICAgLy/nlKjmiLflkI0KICAgIHN0YXRlLm5hbWUgPSB1c2VySW5mby5uYW1lOyAvL+eUqOaIt+WktOWDjwoKICAgIHN0YXRlLmF2YXRhciA9IHVzZXJJbmZvLmF2YXRhcjsgLy/oj5zljZXmnYPpmZDmoIforrAKCiAgICBzdGF0ZS5yb3V0ZXMgPSB1c2VySW5mby5yb3V0ZXM7IC8v5oyJ6ZKu5p2D6ZmQ5qCH6K6wCgogICAgc3RhdGUuYnV0dG9ucyA9IHVzZXJJbmZvLmJ1dHRvbnM7IC8v6KeS6ImyCgogICAgc3RhdGUucm9sZXMgPSB1c2VySW5mby5yb2xlczsKICB9LAogIC8v5pyA57uI6K6h566X5Ye655qE5byC5q2l6Lev55SxCiAgU0VUX1JFU1VMVEFTWU5DUk9VVEVTOiBmdW5jdGlvbiBTRVRfUkVTVUxUQVNZTkNST1VURVMoc3RhdGUsIGFzeW5jUm91dGVzKSB7CiAgICAvL3Z1ZXjkv53lrZjlvZPliY3nlKjmiLfnmoTlvILmraXot6/nlLHvvIzms6jmhI/vvIzkuIDkuKrnlKjmiLfpnIDopoHlsZXnpLrlrozmiJDot6/nlLHvvJrluLjph4/jgIHlvILmraXjgIHku7vmhI/ot6/nlLEKICAgIHN0YXRlLnJlc3VsdEFzeW5jUm91dGVzID0gYXN5bmNSb3V0ZXM7IC8v6K6h566X5Ye65b2T5YmN55So5oi36ZyA6KaB5bGV56S65omA5pyJ6Lev55SxCgogICAgc3RhdGUucmVzdWx0QWxsUnB1dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHN0YXRlLnJlc3VsdEFzeW5jUm91dGVzLCBhbnlSb3V0ZXMpOyAvL+e7mei3r+eUseWZqOa3u+WKoOaWsOeahOi3r+eUsQoKICAgIHJvdXRlci5hZGRSb3V0ZXMoc3RhdGUucmVzdWx0QWxsUnB1dGVzKTsKICB9Cn07IC8v5a6a5LmJ5LiA5Liq5Ye95pWw77ya5Lik5Liq5pWw57uE6L+b6KGM5a+55q+U77yM5a+55q+U5Ye65b2T5YmN55So5oi35Yiw5bqV5pi+56S65ZOq5Lqb5byC5q2l6Lev55SxCgp2YXIgY29tcHV0ZWRBc3luY1JvdXRlcyA9IGZ1bmN0aW9uIGNvbXB1dGVkQXN5bmNSb3V0ZXMoYXN5bmNSb3V0ZXMsIHJvdXRlcykgewogIC8v6L+H5ruk5Ye65b2T5YmN55So5oi344CQ6LaF57qn566h55CGfOaZrumAmuWRmOW3peOAkemcgOimgeWxleekuueahOW8guatpei3r+eUsQogIHJldHVybiBhc3luY1JvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIC8v5pWw57uE5b2T5Lit5rKh5pyJ6L+Z5Liq5YWD57Sg6L+U5Zue57Si5byV5YC8LTHvvIzlpoLmnpzmnInov5nkuKrlhYPntKDov5Tlm57nmoTntKLlvJXlgLzkuIDlrprkuI3mmK8tMSAKICAgIGlmIChyb3V0ZXMuaW5kZXhPZihpdGVtLm5hbWUpICE9IC0xKSB7CiAgICAgIC8v6YCS5b2SOuWIq+W/mOiusOi/mOaciTLjgIEz44CBNOOAgTXjgIE257qn6Lev55SxCiAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgaXRlbS5jaGlsZHJlbiA9IGNvbXB1dGVkQXN5bmNSb3V0ZXMoaXRlbS5jaGlsZHJlbiwgcm91dGVzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSk7Cn07IC8vYWN0aW9ucwoKCnZhciBhY3Rpb25zID0gewogIC8vIHVzZXIgbG9naW4gIOWkhOeQhueZu+W9leeahOS4muWKoQogIC8vIGxvZ2luKHsgY29tbWl0IH0sIHVzZXJJbmZvKSB7CiAgLy8gICAgIC8v6Kej5p6E5Ye655So5oi35ZCN5LiO5a+G56CBCiAgLy8gICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB1c2VySW5mbwogIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIC8vICAgICAgICAgbG9naW4oeyB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLCBwYXNzd29yZDogcGFzc3dvcmQgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgLy8gICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZQogIC8vICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbikKICAvLyAgICAgICAgICAgICBzZXRUb2tlbihkYXRhLnRva2VuKQogIC8vICAgICAgICAgICAgIHJlc29sdmUoKQogIC8vICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogIC8vICAgICAgICAgICAgIHJlamVjdChlcnJvcikKICAvLyAgICAgICAgIH0pCiAgLy8gICAgIH0pCiAgLy8gfSwKICAvL2FzeW5jIGF3YWl0IOeJiOacrO+8mgogIC8v6L+Z6YeM5Zyo5aSE55CG55m75b2V5Lia5YqhCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCB1c2VybmFtZSwgcGFzc3dvcmQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIC8v6Kej5p6E5Ye655So5oi35ZCN5LiO5a+G56CBCiAgICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZSwgcGFzc3dvcmQgPSB1c2VySW5mby5wYXNzd29yZDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX2xvZ2luKHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS50cmltKCksCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDAwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy92dWV45a2Y5YKodG9rZW4KICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIHJlc3VsdC5kYXRhLnRva2VuKTsgLy/mnKzlnLDmjIHkuYXljJblrZjlgqh0b2tlbgoKICAgICAgICAgICAgICBzZXRUb2tlbihyZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbGUnKSkpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIC8v6I635Y+W55So5oi35L+h5oGvCiAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbyhfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2dldEluZm8oc3RhdGUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy/ojrflj5bnlKjmiLfkv6Hmga866L+U5Zue5pWw5o2u5YyF5ZCr77ya55So5oi35ZCNbmFtZeOAgeeUqOaIt+WktOWDj2F2YXRhcuOAgXJvdXRlc1vov5Tlm57nmoTmoIflv5c65LiN5ZCM55qE55So5oi35bqU6K+l5bGV56S65ZOq5Lqb6I+c5Y2V55qE5qCH6K6wXeOAgXJvbGVz77yI55So5oi36KeS6Imy5L+h5oGv77yJ44CBYnV0dG9uc+OAkOaMiemSrueahOS/oeaBr++8muaMiemSruadg+mZkOeUqOeahOagh+iusOOAkQogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsgLy92dWV45a2Y5YKo55So5oi35YWo6YOo55qE5L+h5oGvCgogICAgICAgIGNvbW1pdCgnU0VUX1VTRVJJTkZPJywgZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfUkVTVUxUQVNZTkNST1VURVMnLCBjb21wdXRlZEFzeW5jUm91dGVzKGNsb25lRGVlcChhc3luY1JvdXRlcyksIGRhdGEucm91dGVzKSk7CiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dvdXQoc3RhdGUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgICAgcmVzZXRSb3V0ZXIoKTsKICAgICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gcmVtb3ZlIHRva2VuCiAgcmVzZXRUb2tlbjogZnVuY3Rpb24gcmVzZXRUb2tlbihfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"names":["login","logout","getInfo","getToken","setToken","removeToken","anyRoutes","resetRouter","asyncRoutes","constantRoutes","router","cloneDeep","getDefaultState","token","name","avatar","routes","roles","buttons","resultAsyncRoutes","resultAllRputes","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_USERINFO","userInfo","SET_RESULTASYNCROUTES","concat","addRoutes","computedAsyncRoutes","filter","item","indexOf","children","length","actions","commit","username","password","trim","result","code","data","Promise","reject","Error","resolve","then","response","catch","error","resetToken","namespaced"],"sources":["C:/Users/xiao/Desktop/vue_project/vue-admin-template-master/src/store/modules/user.js"],"sourcesContent":["//引入登录|退出登录|获取用户信息的接口函数\nimport { login, logout, getInfo } from '@/api/user'\n// 获取token|设置token|删除token的函数\nimport { getToken, setToken, removeToken } from '@/utils/auth'\n//路由模块当中重置路由的方法\nimport { anyRoutes, resetRouter, asyncRoutes, constantRoutes } from '@/router';\nimport router from '@/router';\nimport cloneDeep from 'lodash/cloneDeep'\n\n//箭头函数\nconst getDefaultState = () => {\n    return {\n        //获取token\n        token: getToken(),\n        //存储用户名\n        name: '',\n        //存储用户头像\n        avatar: '',\n        //服务器返回的菜单信息【根据不同的角色：返回的标记信息，数组里面的元素是字符串】\n        routes: [],\n        //角色信息\n        roles: [],\n        //按钮权限的信息\n        buttons: [],\n        //对比之后【项目中已有的异步路由，与服务器返回的标记信息进行对比最终需要展示的路由】\n        resultAsyncRoutes: [],\n        //用户最终需要展示全部路由\n        resultAllRputes: []\n    }\n}\n\nconst state = getDefaultState()\n\n//唯一修改state的地方\nconst mutations = {\n    //重置state\n    RESET_STATE: (state) => {\n        Object.assign(state, getDefaultState())\n    },\n    //存储token\n    SET_TOKEN: (state, token) => {\n        state.token = token\n    },\n    //存储用户信息\n    SET_USERINFO: (state, userInfo) => {\n        //用户名\n        state.name = userInfo.name;\n        //用户头像\n        state.avatar = userInfo.avatar;\n        //菜单权限标记\n        state.routes = userInfo.routes;\n        //按钮权限标记\n        state.buttons = userInfo.buttons;\n        //角色\n        state.roles = userInfo.roles;\n    },\n    //最终计算出的异步路由\n    SET_RESULTASYNCROUTES: (state, asyncRoutes) => {\n        //vuex保存当前用户的异步路由，注意，一个用户需要展示完成路由：常量、异步、任意路由\n        state.resultAsyncRoutes = asyncRoutes;\n        //计算出当前用户需要展示所有路由\n        state.resultAllRputes = constantRoutes.concat(state.resultAsyncRoutes, anyRoutes);\n        //给路由器添加新的路由\n        router.addRoutes(state.resultAllRputes)\n    }\n}\n\n\n//定义一个函数：两个数组进行对比，对比出当前用户到底显示哪些异步路由\nconst computedAsyncRoutes = (asyncRoutes, routes) => {\n    //过滤出当前用户【超级管理|普通员工】需要展示的异步路由\n    return asyncRoutes.filter(item => {\n        //数组当中没有这个元素返回索引值-1，如果有这个元素返回的索引值一定不是-1 \n        if (routes.indexOf(item.name) != -1) {\n            //递归:别忘记还有2、3、4、5、6级路由\n            if (item.children && item.children.length) {\n                item.children = computedAsyncRoutes(item.children, routes);\n            }\n            return true;\n        }\n    })\n}\n\n//actions\nconst actions = {\n    // user login  处理登录的业务\n    // login({ commit }, userInfo) {\n    //     //解构出用户名与密码\n    //     const { username, password } = userInfo\n    //     return new Promise((resolve, reject) => {\n    //         login({ username: username.trim(), password: password }).then(response => {\n    //             const { data } = response\n    //             commit('SET_TOKEN', data.token)\n    //             setToken(data.token)\n    //             resolve()\n    //         }).catch(error => {\n    //             reject(error)\n    //         })\n    //     })\n    // },\n\n    //async await 版本：\n    //这里在处理登录业务\n    async login({ commit }, userInfo) {\n        //解构出用户名与密码\n        const { username, password } = userInfo;\n        let result = await login({ username: username.trim(), password: password });\n        //注意：当前登录请求现在使用mock数据，mock数据code是20000\n        if (result.code == 20000) {\n            //vuex存储token\n            commit('SET_TOKEN', result.data.token);\n            //本地持久化存储token\n            setToken(result.data.token);\n            return 'ok';\n        } else {\n            return Promise.reject(new Error('faile'));\n        }\n    },\n\n    //获取用户信息\n    getInfo({ commit, state }) {\n\n        return new Promise((resolve, reject) => {\n            getInfo(state.token).then(response => {\n                //获取用户信息:返回数据包含：用户名name、用户头像avatar、routes[返回的标志:不同的用户应该展示哪些菜单的标记]、roles（用户角色信息）、buttons【按钮的信息：按钮权限用的标记】\n                const { data } = response;\n                //vuex存储用户全部的信息\n                commit('SET_USERINFO', data);\n                commit('SET_RESULTASYNCROUTES', computedAsyncRoutes(cloneDeep(asyncRoutes), data.routes));\n                resolve(data)\n            }).catch(error => {\n                reject(error)\n            })\n        })\n    },\n\n    // user logout\n    logout({ commit, state }) {\n        return new Promise((resolve, reject) => {\n            logout(state.token).then(() => {\n                removeToken() // must remove  token  first\n                resetRouter()\n                commit('RESET_STATE')\n                resolve()\n            }).catch(error => {\n                reject(error)\n            })\n        })\n    },\n\n    // remove token\n    resetToken({ commit }) {\n        return new Promise(resolve => {\n            removeToken() // must remove  token  first\n            commit('RESET_STATE')\n            resolve()\n        })\n    }\n}\n\n\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n}"],"mappings":"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"}]}