{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\acl\\permission\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\acl\\permission\\list.vue","mtime":1638345809000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICJDOi9Vc2Vycy94aWFvL0Rlc2t0b3AvdnVlX3Byb2plY3QvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy94aWFvL0Rlc2t0b3AvdnVlX3Byb2plY3QvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy94aWFvL0Rlc2t0b3AvdnVlX3Byb2plY3QvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CnZhciBfZXhjbHVkZWQgPSBbInBuYW1lIl07CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIOiPnOWNleadg+mZkOagoemqjOeahOinhOWImQp2YXIgbWVudVJ1bGVzID0gewogIG5hbWU6IFt7CiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIG1lc3NhZ2U6ICflkI3np7Dlv4XpobvovpPlhaUnCiAgfV0sCiAgY29kZTogW3sKICAgIHJlcXVpcmVkOiB0cnVlLAogICAgbWVzc2FnZTogJ+adg+mZkOWAvOW/hemhu+i+k+WFpScKICB9XQp9OyAvLyDmjInpkq7lip/og73mnYPpmZDmoKHpqoznmoTop4TliJkKCnZhciBidG5SdWxlcyA9IHsKICBuYW1lOiBbewogICAgcmVxdWlyZWQ6IHRydWUsCiAgICBtZXNzYWdlOiAn5ZCN56ew5b+F6aG76L6T5YWlJwogIH1dLAogIGNvZGU6IFt7CiAgICByZXF1aXJlZDogdHJ1ZSwKICAgIHRyaWdnZXI6ICdibHVyJywKICAgIG1lc3NhZ2U6ICflip/og73mnYPpmZDlgLzlv4XpobvovpPlhaUnCiAgfV0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQZXJtaXNzaW9uTGlzdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnVQZXJtaXNzaW9uTGlzdDogW10sCiAgICAgIC8vIOiPnOWNleWIl+ihqAogICAgICBleHBhbmRLZXlzOiBbXSwKICAgICAgLy8g6ZyA6KaB6Ieq5Yqo5bGV5byA55qE6aG5CiAgICAgIGRpYWxvZ1Blcm1pc3Npb25WaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5pi+56S66I+c5Y2V5p2D6ZmQ55qERGlhbG9nCiAgICAgIHBlcm1pc3Npb246IHsKICAgICAgICAvLyDopoHmk43kvZznmoToj5zljZXmnYPpmZDlr7nosaEKICAgICAgICBsZXZlbDogMCwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjb2RlOiAnJywKICAgICAgICB0b0NvZGU6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLyogCiAgICDliqjmgIHorqHnrpflvpfliLBEaWFsb2fnmoTmoIfpopgKICAgICovCiAgICBkaWFsb2dUaXRsZTogZnVuY3Rpb24gZGlhbG9nVGl0bGUoKSB7CiAgICAgIHZhciBfdGhpcyRwZXJtaXNzaW9uID0gdGhpcy5wZXJtaXNzaW9uLAogICAgICAgICAgaWQgPSBfdGhpcyRwZXJtaXNzaW9uLmlkLAogICAgICAgICAgbGV2ZWwgPSBfdGhpcyRwZXJtaXNzaW9uLmxldmVsOwoKICAgICAgaWYgKGlkKSB7CiAgICAgICAgcmV0dXJuIGxldmVsID09PSA0ID8gJ+S/ruaUueWKn+iDvScgOiAn5L+u5pS56I+c5Y2VJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbGV2ZWwgPT09IDQgPyAn5re75Yqg5Yqf6IO9JyA6ICJcdTZERkJcdTUyQTAiLmNvbmNhdChsZXZlbCA9PT0gMiA/ICfkuIDnuqcnIDogJ+S6jOe6pycsICJcdTgzRENcdTUzNTUiKTsKICAgICAgfQogICAgfSwKCiAgICAvKiAKICAgIOagueaNruadg+mZkOeahOetiee6p+adpeiuoeeul+ehruWumuagoemqjOinhOWImQogICAgKi8KICAgIHBlcm1pc3Npb25SdWxlczogZnVuY3Rpb24gcGVybWlzc2lvblJ1bGVzKCkgewogICAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9uLmxldmVsID09PSA0ID8gYnRuUnVsZXMgOiBtZW51UnVsZXM7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFBlcm1pc3Npb25MaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiAKICAgIOagueaNrue6p+WIq+W+l+WIsOimgeaYvuekuueahOa3u+WKoGRpYWxvZ+eahOagh+mimAogICAgKi8KICAgIGdldEFkZFRpdGxlOiBmdW5jdGlvbiBnZXRBZGRUaXRsZShsZXZlbCkgewogICAgICBpZiAobGV2ZWwgPT09IDEgfHwgbGV2ZWwgPT09IDIpIHsKICAgICAgICByZXR1cm4gJ+a3u+WKoOiPnOWNlSc7CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IDMpIHsKICAgICAgICByZXR1cm4gJ+a3u+WKoOWKn+iDvSc7CiAgICAgIH0KICAgIH0sCgogICAgLyogCiAgICDor7fmsYLojrflj5bmnYPpmZDoj5zljZXmlbDmja7liJfooagKICAgICovCiAgICBmZXRjaFBlcm1pc3Npb25MaXN0OiBmdW5jdGlvbiBmZXRjaFBlcm1pc3Npb25MaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkucGVybWlzc2lvbi5nZXRQZXJtaXNzaW9uTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubWVudVBlcm1pc3Npb25MaXN0ID0gcmVzdWx0LmRhdGEuY2hpbGRyZW47CiAgICAgICAgICAgICAgICBfdGhpcy5leHBhbmRLZXlzID0gW190aGlzLm1lbnVQZXJtaXNzaW9uTGlzdFswXS5pZF07CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyogCiAgICDmmL7npLrmt7vliqDmnYPpmZDnmoTnlYzpnaIo6I+c5Y2V5oiW5Yqf6IO9KQogICAgKi8KICAgIHRvQWRkUGVybWlzc2lvbjogZnVuY3Rpb24gdG9BZGRQZXJtaXNzaW9uKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nUGVybWlzc2lvblZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnBlcm1pc3Npb24ucGlkID0gcm93LmlkOwogICAgICB0aGlzLnBlcm1pc3Npb24ubGV2ZWwgPSByb3cubGV2ZWwgKyAxOwogICAgICB0aGlzLnBlcm1pc3Npb24udHlwZSA9IHRoaXMucGVybWlzc2lvbi5sZXZlbCA9PT0gNCA/IDIgOiAxOwogICAgICB0aGlzLnBlcm1pc3Npb24ucG5hbWUgPSByb3cubmFtZTsgLy8g55So5LqO5pi+56S654i25ZCN56ewLCDkvYbmj5DkuqTor7fmsYLml7bmmK/kuI3pnIDopoHnmoQKICAgICAgLy8g5riF6Zmk5qCh6aqMKOW/hemhu+WcqOeVjOmdouabtOaWsOS5i+WQjikKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiRyZWZzLnBlcm1pc3Npb24uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCgogICAgLyogCiAgICDmmL7npLroj5zljZXmt7vliqDmiJbmm7TmlrDnmoRkaWFsb2cKICAgICovCiAgICB0b1VwZGF0ZVBlcm1pc3Npb246IGZ1bmN0aW9uIHRvVXBkYXRlUGVybWlzc2lvbihyb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ1Blcm1pc3Npb25WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5wZXJtaXNzaW9uID0gX29iamVjdFNwcmVhZCh7fSwgcm93KTsgLy8g5L2/55So5rWF5ou36LSdCgogICAgICB0aGlzLnBlcm1pc3Npb24udHlwZSA9IHRoaXMucGVybWlzc2lvbi5sZXZlbCA9PT0gNCA/IDIgOiAxOyAvLyDmuIXpmaTmoKHpqowo5b+F6aG75Zyo55WM6Z2i5pu05paw5LmL5ZCOKQoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczMuJHJlZnMucGVybWlzc2lvbi5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiAKICAgIOWIoOmZpOafkOS4quadg+mZkOiKgueCuQogICAgKi8KICAgIHJlbW92ZVBlcm1pc3Npb246IGZ1bmN0aW9uIHJlbW92ZVBlcm1pc3Npb24ocGVybWlzc2lvbikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJEFQSS5wZXJtaXNzaW9uLnJlbW92ZVBlcm1pc3Npb24ocGVybWlzc2lvbi5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlIHx8ICfliKDpmaTmiJDlip8hJyk7CgogICAgICAgICAgICAgICAgX3RoaXM0LmZldGNoUGVybWlzc2lvbkxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IgPT09ICdjYW5jZWwnKSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiAKICAgIOa3u+WKoOaIluabtOaWsOWKn+iDveadg+mZkAogICAgKi8KICAgIGFkZE9yVXBkYXRlUGVybWlzc2lvbjogZnVuY3Rpb24gYWRkT3JVcGRhdGVQZXJtaXNzaW9uKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucGVybWlzc2lvbi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3RoaXM1JHBlcm1pc3Npb24sIHBuYW1lLCBwZXJtLCByZXN1bHQ7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXM1JHBlcm1pc3Npb24gPSBfdGhpczUucGVybWlzc2lvbiwgcG5hbWUgPSBfdGhpczUkcGVybWlzc2lvbi5wbmFtZSwgcGVybSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpczUkcGVybWlzc2lvbiwgX2V4Y2x1ZGVkKTsgLy8gcG5hbWXkuI3pnIDopoHmkLrluKYKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kQVBJLnBlcm1pc3Npb25bcGVybS5pZCA/ICd1cGRhdGVQZXJtaXNzaW9uJyA6ICdhZGRQZXJtaXNzaW9uJ10ocGVybSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlIHx8ICIiLmNvbmNhdChwZXJtLmlkID8gJ+S/ruaUuScgOiAn5re75YqgJywgIlx1NjIxMFx1NTI5RiEiKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUucmVzZXREYXRhKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZmV0Y2hQZXJtaXNzaW9uTGlzdCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCgogICAgLyogCiAgICDph43nva7mlbDmja4KICAgICovCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgdGhpcy5kaWFsb2dQZXJtaXNzaW9uVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLnBlcm1pc3Npb24gPSB7CiAgICAgICAgbGV2ZWw6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgdG9Db2RlOiAnJwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;EACAA;IAAAC;IAAAC;EAAA,EADA;EAEAC;IAAAF;IAAAC;EAAA;AAFA,E,CAKA;;AACA;EACAF;IAAAC;IAAAC;EAAA,EADA;EAEAC;IAAAF;IAAAG;IAAAF;EAAA;AAFA;AAKA;EACAF,sBADA;EAGAK,IAHA,kBAGA;IACA;MACAC,sBADA;MACA;MACAC,cAFA;MAEA;MACAC,8BAHA;MAGA;MACAC;QAAA;QACAC,QADA;QAEAV,QAFA;QAGAG,QAHA;QAIAQ;MAJA;IAJA;EAWA,CAfA;EAiBAC;IACA;AACA;AACA;IACAC,WAJA,yBAIA;MACA;MAAA;MAAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAXA;;IAaA;AACA;AACA;IACAC,eAhBA,6BAgBA;MACA;IACA;EAlBA,CAjBA;EAsCAC,OAtCA,qBAsCA;IACA;EACA,CAxCA;EA0CAC;IAEA;AACA;AACA;IACAC,WALA,uBAKAP,KALA,EAKA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAXA;;IAaA;AACA;AACA;IACAQ,mBAhBA,iCAgBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,yCADA;;cAAA;gBACAC,MADA;gBAEA;gBACA;;cAHA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CApBA;;IAsBA;AACA;AACA;IACAC,eAzBA,2BAyBAC,GAzBA,EAyBA;MAAA;;MACA;MACA;MACA;MACA;MACA,iCALA,CAKA;MAEA;;MACA;QAAA;MAAA;IACA,CAlCA;;IAoCA;AACA;AACA;IACAC,kBAvCA,8BAuCAD,GAvCA,EAuCA;MAAA;;MACA;MACA,yCAFA,CAEA;;MACA,2DAHA,CAKA;;MACA;QAAA;MAAA;IACA,CA9CA;;IAgDA;AACA;AACA;IACAE,gBAnDA,4BAmDAd,UAnDA,EAmDA;MAAA;;MACA;QACAe;MADA,GAEAC,IAFA,uEAEA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,sDADA;;cAAA;gBACAN,MADA;;gBAEA;;gBACA;;cAHA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAFA,IAMAO,KANA,CAMA;QACA;UACA;YACAF,YADA;YAEAtB;UAFA;QAIA;MACA,CAbA;IAcA,CAlEA;;IAoEA;AACA;AACA;IACAyB,qBAvEA,mCAuEA;MAAA;;MACA;QAAA;UAAA;;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAC,KADA;oBAAA;oBAAA;kBAAA;;kBAAA,oBAEA,iBAFA,EAEAC,KAFA,qBAEAA,KAFA,EAEAC,IAFA,2DAEA;;kBAFA;kBAAA,OAGA,4EAHA;;gBAAA;kBAGAX,MAHA;;kBAIA;;kBACA;;kBACA;;gBANA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IASA,CAjFA;;IAmFA;AACA;AACA;IACAY,SAtFA,uBAsFA;MACA;MACA;QACArB,QADA;QAEAV,QAFA;QAGAG,QAHA;QAIAQ;MAJA;IAMA;EA9FA;AA1CA","names":["name","required","message","code","trigger","data","menuPermissionList","expandKeys","dialogPermissionVisible","permission","level","toCode","computed","dialogTitle","permissionRules","mounted","methods","getAddTitle","fetchPermissionList","result","toAddPermission","row","toUpdatePermission","removePermission","type","then","catch","addOrUpdatePermission","valid","pname","perm","resetData"],"sourceRoot":"src/views/acl/permission","sources":["list.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- \n      code: \"Acl\" // 标识名称\n      deleted: false\n      gmtCreate: \"2020-11-30 16:40:08\"\n      gmtModified: \"2020-11-30 16:40:08\"\n      id: \"1333329957008228353\"\n      level: 2\n      name: \"权限管理\"\n      pid: \"1\" // 所属节点的id\n      select: false\n      status: null\n      toCode: \"\"\n      type: 1  // 1: 路由 2: 按钮\n\n      children: []\n      code: \"btn.Role.assgin\"\n      deleted: false\n      gmtCreate: \"2020-11-30 16:50:13\"\n      gmtModified: \"2020-12-01 08:13:47\"\n      id: \"1333332492158812161\"\n      level: 4\n      name: \"分配权限\"\n      pid: \"1333330152781561858\"\n      select: false\n      status: null\n      toCode: \"RoleAuth\"\n      type: 2\n    -->\n    <el-table\n      border\n      style=\"margin-bottom: 20px;\"\n      :data=\"menuPermissionList\"\n      :expand-row-keys=\"expandKeys\"\n      row-key=\"id\"\n    >\n      <el-table-column\n        prop=\"name\"\n        label=\"名称\"\n      />\n      <el-table-column\n        prop=\"code\"\n        label=\"权限值\"\n      />\n\n      <el-table-column\n        prop=\"toCode\"\n        label=\"跳转权限值\"\n      />\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"{row}\">\n          \n          <HintButton\n            :disabled=\"row.level===4\"\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            size=\"mini\"\n            @click=\"toAddPermission(row)\"\n            :title=\"getAddTitle(row.level)\"\n          />\n\n          <HintButton\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            size=\"mini\"\n            :disabled=\"row.level===1\"\n            @click=\"toUpdatePermission(row)\"\n            :title=\"row.level===4 ? '修改功能' : '修改菜单'\"\n          />\n\n          <HintButton\n            :disabled=\"row.level===1\"\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n            @click=\"removePermission(row)\"\n            title=\"删除\"\n          />\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog \n      :visible.sync=\"dialogPermissionVisible\" \n      :title=\"dialogTitle\" \n      @close=\"resetData\">\n\n      <el-form ref=\"permission\" :model=\"permission\" :rules=\"permissionRules\" label-width=\"120px\">\n        <el-form-item label=\"父级名称\" v-if=\"permission.level>2 && !permission.id\">\n          <el-input :value=\"permission.pname\"  disabled/>\n        </el-form-item>\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input v-model=\"permission.name\"/>\n        </el-form-item>\n        \n        <el-form-item label=\"功能权限值\" prop=\"code\">\n          <el-input v-model=\"permission.code\"/>\n        </el-form-item>\n\n        <el-form-item label=\"跳转路由权限值\" prop=\"toCode\" v-if=\"permission.level===4\">\n          <el-input v-model=\"permission.toCode\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resetData\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addOrUpdatePermission\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\n// 菜单权限校验的规则\nconst menuRules = { \n  name: [{required: true, message: '名称必须输入'}],\n  code: [{required: true, message: '权限值必须输入'}],\n}\n\n// 按钮功能权限校验的规则\nconst btnRules = { \n  name: [{required: true, message: '名称必须输入'}],\n  code: [{required: true, trigger: 'blur', message: '功能权限值必须输入'}]\n}\n\nexport default {\n  name: 'PermissionList',\n\n  data() {\n    return {\n      menuPermissionList: [], // 菜单列表\n      expandKeys: [], // 需要自动展开的项\n      dialogPermissionVisible: false, // 是否显示菜单权限的Dialog\n      permission: { // 要操作的菜单权限对象\n        level: 0,\n        name: '',\n        code: '',\n        toCode: ''\n      }, \n    }\n  },\n\n  computed: {\n    /* \n    动态计算得到Dialog的标题\n    */\n    dialogTitle () {\n      const {id, level} = this.permission\n      if (id) {\n        return level===4 ? '修改功能' : '修改菜单'\n      } else {\n        return level===4 ? '添加功能' : `添加${level===2?'一级':'二级'}菜单`\n      }\n    },\n\n    /* \n    根据权限的等级来计算确定校验规则\n    */\n    permissionRules () {\n      return this.permission.level===4 ? btnRules : menuRules\n    }\n  },\n  \n  mounted () {\n    this.fetchPermissionList()\n  },\n\n  methods: {\n\n    /* \n    根据级别得到要显示的添加dialog的标题\n    */\n    getAddTitle (level) {\n      if (level===1 || level===2) {\n        return '添加菜单'\n      } else if (level===3){\n        return '添加功能'\n      }\n    }, \n\n    /* \n    请求获取权限菜单数据列表\n    */\n    async fetchPermissionList() {\n      const result = await this.$API.permission.getPermissionList()\n      this.menuPermissionList = result.data.children\n      this.expandKeys = [this.menuPermissionList[0].id]\n    },\n\n    /* \n    显示添加权限的界面(菜单或功能)\n    */\n    toAddPermission (row) {\n      this.dialogPermissionVisible = true\n      this.permission.pid = row.id\n      this.permission.level = row.level + 1\n      this.permission.type = this.permission.level===4 ? 2 : 1\n      this.permission.pname = row.name // 用于显示父名称, 但提交请求时是不需要的\n      \n      // 清除校验(必须在界面更新之后)\n      this.$nextTick(() => this.$refs.permission.clearValidate())\n    },\n\n    /* \n    显示菜单添加或更新的dialog\n    */\n    toUpdatePermission(row) {\n      this.dialogPermissionVisible = true\n      this.permission = {...row}  // 使用浅拷贝\n      this.permission.type = this.permission.level===4 ? 2 : 1\n\n      // 清除校验(必须在界面更新之后)\n      this.$nextTick(() => this.$refs.permission.clearValidate())\n    },\n\n    /* \n    删除某个权限节点\n    */    \n    removePermission(permission) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        type: 'warning'\n      }).then(async () => {\n        const result = await this.$API.permission.removePermission(permission.id)\n        this.$message.success(result.message || '删除成功!')\n        this.fetchPermissionList()\n      }).catch((error) => {\n        if (error==='cancel') {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        }\n      })\n    },\n\n    /* \n    添加或更新功能权限\n    */\n    addOrUpdatePermission() {\n      this.$refs.permission.validate(async valid => {\n        if (valid) {\n          const {pname, ...perm} = this.permission // pname不需要携带\n          const result = await this.$API.permission[perm.id ? 'updatePermission' : 'addPermission'](perm)\n          this.$message.success(result.message || `${perm.id ? '修改' : '添加'}成功!`)\n          this.resetData()\n          this.fetchPermissionList()\n        }\n      })\n    },\n\n    /* \n    重置数据\n    */\n    resetData() {\n      this.dialogPermissionVisible = false\n      this.permission = {\n        level: 0,\n        name: '',\n        code: '',\n        toCode: ''\n      }\n    }\n  }\n}\n\n</script>\n"]}]}