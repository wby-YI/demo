{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\components\\CategorySelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\components\\CategorySelect\\index.vue","mtime":1652762289154},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3hpYW8vRGVza3RvcC92dWVfcHJvamVjdC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhdGVnb3J5U2VsZWN0IiwKICBwcm9wczogWyJzaG93Il0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5LiA57qn5YiG57G755qE5pWw5o2uCiAgICAgIGxpc3QxOiBbXSwKICAgICAgLy/kuoznuqfliIbnsbvnmoTmlbDmja4KICAgICAgbGlzdDI6IFtdLAogICAgICAvL+S4iee6p+WIhuexu+eahOaVsOaNrgogICAgICBsaXN0MzogW10sCiAgICAgIC8v5pS26ZuG55u45bqU55qE5LiA57qn5LqM57qn5LiJ57qn5YiG57G755qEaWQKICAgICAgY0Zvcm06IHsKICAgICAgICBjYXRlZ29yeTFJZDogIiIsCiAgICAgICAgY2F0ZWdvcnkySWQ6ICIiLAogICAgICAgIGNhdGVnb3J5M0lkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgLy/nu4Tku7bmjILovb3lrozmr5XvvJrlkJHmnI3liqHlmajlj5Hor7fmsYLvvIzojrflj5bnm7jlupTnmoTkuIDnuqfliIbnsbvnmoTmlbDmja4KICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/ojrflj5bkuIDnuqfliIbnsbvnmoTmlbDmja7nmoTmlrnms5UKICAgIHRoaXMuZ2V0Q2F0ZWdvcnkxTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/ojrflj5bkuIDnuqfliIbnsbvmlbDmja7nmoTmlrnms5UKICAgIGdldENhdGVnb3J5MUxpc3Q6IGZ1bmN0aW9uIGdldENhdGVnb3J5MUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJEFQSS5hdHRyLnJlcUNhdGVnb3J5MUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5saXN0MSA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/kuIDnuqfliIbnsbvnmoRzZWxlY3Tkuovku7blm57osIPvvIjlvZPkuIDnuqfliIbnsbvnmoRvcHRpb27lj5HnlJ/lj5jljJbnmoTml7blgJnojrflj5bnm7jlupTkuoznuqfliIbnsbvnmoTmlbDmja7vvIkKICAgIGhhbmRsZXIxOiBmdW5jdGlvbiBoYW5kbGVyMSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY2F0ZWdvcnkxSWQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy/muIXpmaTmlbDmja4KICAgICAgICAgICAgICAgIF90aGlzMi5saXN0MiA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMyLmxpc3QzID0gW107CiAgICAgICAgICAgICAgICBfdGhpczIuY0Zvcm0uY2F0ZWdvcnkySWQgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5jRm9ybS5jYXRlZ29yeTNJZCA9ICIiOyAvL+ino+aehOWHuuS4gOe6p+WIhuexu+eahGlkCgogICAgICAgICAgICAgICAgY2F0ZWdvcnkxSWQgPSBfdGhpczIuY0Zvcm0uY2F0ZWdvcnkxSWQ7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCJnZXRDYXRlZ29yeUlkIiwgewogICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeTFJZCwKICAgICAgICAgICAgICAgICAgbGV2ZWw6IDEKICAgICAgICAgICAgICAgIH0pOyAvL+mAmui/h+S4gOe6p+WIhuexu+eahGlk77yM6I635Y+W5LqM57qn5YiG57G755qE5pWw5o2uCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJEFQSS5hdHRyLnJlcUNhdGVnb3J5Mkxpc3QoY2F0ZWdvcnkxSWQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIubGlzdDIgPSByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5LqM57qn5YiG57G755qEc2VsZWN05LqL5Lu25Zue6LCD77yI5b2T5LqM57qn5YiG57G755qEb3B0aW9u5Y+R55Sf5Y+Y5YyW55qE5pe25YCZ6I635Y+W55u45bqU5LiJ57qn5YiG57G755qE5pWw5o2u77yJCiAgICBoYW5kbGVyMjogZnVuY3Rpb24gaGFuZGxlcjIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNhdGVnb3J5MklkLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8v5riF6Zmk5pWw5o2uCiAgICAgICAgICAgICAgICBfdGhpczMubGlzdDMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMy5jRm9ybS5jYXRlZ29yeTNJZCA9ICIiOyAvL+e7k+aehOWHuuaVsOaNrgoKICAgICAgICAgICAgICAgIGNhdGVnb3J5MklkID0gX3RoaXMzLmNGb3JtLmNhdGVnb3J5MklkOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgiZ2V0Q2F0ZWdvcnlJZCIsIHsKICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogY2F0ZWdvcnkySWQsCiAgICAgICAgICAgICAgICAgIGxldmVsOiAyCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRBUEkuYXR0ci5yZXFDYXRlZ29yeTNMaXN0KGNhdGVnb3J5MklkKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmxpc3QzID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5LiJ57qn5YiG57G755qE5LqL5Lu25Zue6LCDCiAgICBoYW5kbGVyMzogZnVuY3Rpb24gaGFuZGxlcjMoKSB7CiAgICAgIC8v6I635Y+W5LiJ57qn5YiG57G755qEaWQKICAgICAgdmFyIGNhdGVnb3J5M0lkID0gdGhpcy5jRm9ybS5jYXRlZ29yeTNJZDsKICAgICAgdGhpcy4kZW1pdCgiZ2V0Q2F0ZWdvcnlJZCIsIHsKICAgICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeTNJZCwKICAgICAgICBsZXZlbDogMwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;EACAA,sBADA;EAEAC,eAFA;EAGAC,IAHA,kBAGA;IACA;MACA;MACAC,SAFA;MAGA;MACAC,SAJA;MAKA;MACAC,SANA;MAOA;MACAC;QACAC,eADA;QAEAC,eAFA;QAGAC;MAHA;IARA;EAcA,CAlBA;EAmBA;EACAC,OApBA,qBAoBA;IACA;IACA;EACA,CAvBA;EAwBAC;IACA;IACAC,gBAFA,8BAEA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEA,kCAFA;;cAAA;gBAEAC,MAFA;;gBAGA;gBACA;kBACA;gBACA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA,CATA;IAUA;IACAC,QAXA,sBAWA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACA;gBACA,8BALA,CAMA;;gBACAP,WAPA,GAOA,YAPA,CAOAA,WAPA;;gBAQA;kBAAAQ;kBAAAC;gBAAA,GARA,CASA;;;gBATA;gBAAA,OAUA,8CAVA;;cAAA;gBAUAH,MAVA;;gBAWA;gBACA;kBACA;gBACA;;cAdA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAeA,CA1BA;IA2BA;IACAI,QA5BA,sBA4BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA,8BAHA,CAIA;;gBACAT,WALA,GAKA,YALA,CAKAA,WALA;;gBAMA;kBAAAO;kBAAAC;gBAAA;;gBANA;gBAAA,OAOA,8CAPA;;cAAA;gBAOAH,MAPA;;gBAQA;gBACA;kBACA;gBACA;;cAXA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYA,CAxCA;IAyCA;IACAK,QA1CA,sBA0CA;MACA;MACA;MACA;QAAAH;QAAAC;MAAA;IACA;EA9CA;AAxBA","names":["name","props","data","list1","list2","list3","cForm","category1Id","category2Id","category3Id","mounted","methods","getCategory1List","result","handler1","categoryId","level","handler2","handler3"],"sourceRoot":"src/components/CategorySelect","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- inline:代表的是行内表单，代表一行可以放置多个表单元素 -->\n    <el-form :inline=\"true\" class=\"demo-form-inline\" :model=\"cForm\">\n      <el-form-item label=\"一级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category1Id\"\n          @change=\"handler1\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c1.name\"\n            :value=\"c1.id\"\n            v-for=\"(c1, index) in list1\"\n            :key=\"c1.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"二级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category2Id\"\n          @change=\"handler2\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c2.name\"\n            :value=\"c2.id\"\n            v-for=\"(c2, index) in list2\"\n            :key=\"c2.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"三级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category3Id\"\n          @change=\"handler3\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c3.name\"\n            :value=\"c3.id\"\n            v-for=\"(c3, index) in list3\"\n            :key=\"c3.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CategorySelect\",\n  props: [\"show\"],\n  data() {\n    return {\n      //一级分类的数据\n      list1: [],\n      //二级分类的数据\n      list2: [],\n      //三级分类的数据\n      list3: [],\n      //收集相应的一级二级三级分类的id\n      cForm: {\n        category1Id: \"\",\n        category2Id: \"\",\n        category3Id: \"\",\n      },\n    };\n  },\n  //组件挂载完毕：向服务器发请求，获取相应的一级分类的数据\n  mounted() {\n    //获取一级分类的数据的方法\n    this.getCategory1List();\n  },\n  methods: {\n    //获取一级分类数据的方法\n    async getCategory1List() {\n      //获取一级分类的请求：不需要携带参数\n      let result = await this.$API.attr.reqCategory1List();\n      // console.log(result);\n      if (result.code == 200) {\n        this.list1 = result.data;\n      }\n    },\n    //一级分类的select事件回调（当一级分类的option发生变化的时候获取相应二级分类的数据）\n    async handler1() {\n      //清除数据\n      this.list2 = [];\n      this.list3 = [];\n      this.cForm.category2Id = \"\";\n      this.cForm.category3Id = \"\";\n      //解构出一级分类的id\n      const { category1Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category1Id, level: 1 });\n      //通过一级分类的id，获取二级分类的数据\n      let result = await this.$API.attr.reqCategory2List(category1Id);\n      // console.log(result);\n      if (result.code == 200) {\n        this.list2 = result.data;\n      }\n    },\n    //二级分类的select事件回调（当二级分类的option发生变化的时候获取相应三级分类的数据）\n    async handler2() {\n      //清除数据\n      this.list3 = [];\n      this.cForm.category3Id = \"\";\n      //结构出数据\n      const { category2Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category2Id, level: 2 });\n      let result = await this.$API.attr.reqCategory3List(category2Id);\n      // console.log(result);\n      if (result.code == 200) {\n        this.list3 = result.data;\n      }\n    },\n    //三级分类的事件回调\n    handler3() {\n      //获取三级分类的id\n      const { category3Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category3Id, level: 3 });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}