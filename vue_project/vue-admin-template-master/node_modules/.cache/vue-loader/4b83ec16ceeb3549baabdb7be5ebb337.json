{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\acl\\user\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\acl\\user\\list.vue","mtime":1653286078295},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjbG9uZURlZXAgZnJvbSAnbG9kYXNoL2Nsb25lRGVlcCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWNsVXNlckxpc3QnLAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwgLy8g5piv5ZCm5pi+56S65YiX6KGo5Yqg6L2955qE5o+Q56S6CiAgICAgIHNlYXJjaE9iajogeyAvLyDljIXlkKvor7fmsYLmkJzntKLmnaHku7bmlbDmja7nmoTlr7nosaEKICAgICAgICB1c2VybmFtZTogJycKICAgICAgfSwKICAgICAgdGVtcFNlYXJjaE9iajogeyAvLyDmlLbpm4bmkJzntKLmnaHku7bovpPlhaXnmoTlr7nosaEKICAgICAgICB1c2VybmFtZTogJycKICAgICAgfSwKICAgICAgc2VsZWN0ZWRJZHM6IFtdLCAvLyDmiYDmnInpgInmi6nnmoR1c2Vy55qEaWTnmoTmlbDnu4QKICAgICAgdXNlcnM6IFtdLCAvLyDlvZPliY3pobXnmoTnlKjmiLfliJfooagKICAgICAgcGFnZTogMSwgLy8g5b2T5YmN6aG156CBCiAgICAgIGxpbWl0OiAzLCAvLyDmr4/pobXmlbDph48KICAgICAgdG90YWw6IDAsIC8vIOaAu+aVsOmHjwogICAgICB1c2VyOiB7fSwgLy8g5b2T5YmN6KaB5pON5L2c55qEdXNlcgogICAgICBkaWFsb2dVc2VyVmlzaWJsZTogZmFsc2UsIC8vIOaYr+WQpuaYvuekuueUqOaIt+a3u+WKoC/kv67mlLnnmoRkaWFsb2cKICAgICAgdXNlclJ1bGVzOiB7IC8vIOeUqOaIt+a3u+WKoC/kv67mlLnooajljZXnmoTmoKHpqozop4TliJkKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+eUqOaIt+WQjeW/hemhu+i+k+WFpScgfSwKICAgICAgICAgIHsgbWluOiA0LCBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95bCP5LqONOS9jScgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVBhc3N3b3JkIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyDmmK/lkKbmraPlnKjmj5DkuqTor7fmsYLkuK0KICAgICAgZGlhbG9nUm9sZVZpc2libGU6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLrop5LoibJEaWFsb2cKICAgICAgYWxsUm9sZXM6IFtdLCAvLyDmiYDmnInop5LoibLliJfooagKICAgICAgdXNlclJvbGVJZHM6IFtdLCAvLyDnlKjmiLfnmoTop5LoibJJROeahOWIl+ihqAogICAgICBpc0luZGV0ZXJtaW5hdGU6IGZhbHNlLCAvLyDmmK/lkKbmmK/kuI3noa7lrprnmoQKICAgICAgY2hlY2tBbGw6IGZhbHNlLCAvLyDmmK/lkKblhajpgIkKICAgIH0KICB9LAoKICAvL+WPkeivt+axguS4gOiIrOaDheWGteS4i++8jOaIkeS7rOmDveaYr+WcqG1vdW50ZWTljrvlj5HvvIzkvYbmmK/kuZ/lj6/ku6XlnKhjcmVhdGVk5YaF6YOo5Y675Y+RCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldFVzZXJzKCkKICB9LAoKICBtZXRob2RzOiB7CiAgICAvKiAKICAgIOaYvuekuuaMh+WumuinkuiJsueahOeVjOmdogogICAgKi8KICAgIHNob3dBc3NpZ25Sb2xlICh1c2VyKSB7CiAgICAgIHRoaXMudXNlciA9IHVzZXIKICAgICAgdGhpcy5kaWFsb2dSb2xlVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5nZXRSb2xlcygpCiAgICB9LAoKICAgIC8qIAogICAg5YWo6YCJ5Yu+6YCJ54q25oCB5Y+R55Sf5pS55Y+Y55qE55uR5ZCsCiAgICAqLwogICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2UgKHZhbHVlKSB7Ly8gdmFsdWUg5b2T5YmN5Yu+6YCJ54q25oCBdHJ1ZS9mYWxzZQogICAgICAvLyDlpoLmnpzlvZPliY3lhajpgIksIHVzZXJSb2xlSWRz5bCx5piv5omA5pyJ6KeS6ImyaWTnmoTmlbDnu4QsIOWQpuWImeaYr+epuuaVsOe7hAogICAgICB0aGlzLnVzZXJSb2xlSWRzID0gdmFsdWUgPyB0aGlzLmFsbFJvbGVzLm1hcChpdGVtID0+IGl0ZW0uaWQpIDogW10KICAgICAgLy8g5aaC5p6c5b2T5YmN5LiN5piv5YWo6YCJ5Lmf5LiN5YWo5LiN6YCJ5pe2LCDmjIflrprkuLpmYWxzZQogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlCiAgICB9LAoKICAgIC8qIAogICAg5byC5q2l6I635Y+W55So5oi355qE6KeS6Imy5YiX6KGoCiAgICAqLwogICAgYXN5bmMgZ2V0Um9sZXMgKCkgewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkudXNlci5nZXRSb2xlcyh0aGlzLnVzZXIuaWQpCiAgICAgIGNvbnN0IHthbGxSb2xlc0xpc3QsIGFzc2lnblJvbGVzfSA9IHJlc3VsdC5kYXRhCiAgICAgIHRoaXMuYWxsUm9sZXMgPSBhbGxSb2xlc0xpc3QKICAgICAgdGhpcy51c2VyUm9sZUlkcyA9IGFzc2lnblJvbGVzLm1hcChpdGVtID0+IGl0ZW0uaWQpCiAgICAgIAogICAgICB0aGlzLmNoZWNrQWxsID0gYWxsUm9sZXNMaXN0Lmxlbmd0aD09PWFzc2lnblJvbGVzLmxlbmd0aAogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGFzc2lnblJvbGVzLmxlbmd0aD4wICYmIGFzc2lnblJvbGVzLmxlbmd0aDxhbGxSb2xlc0xpc3QubGVuZ3RoCiAgICB9LAoKICAgIC8qIAogICAg6KeS6Imy5YiX6KGo6YCJ5Lit6aG55Y+R55Sf5pS55Y+Y55qE55uR5ZCsCiAgICAqLwogICAgaGFuZGxlQ2hlY2tlZENoYW5nZSAodmFsdWUpIHsKICAgICAgY29uc3Qge3VzZXJSb2xlSWRzLCBhbGxSb2xlc30gPSB0aGlzCiAgICAgIHRoaXMuY2hlY2tBbGwgPSB1c2VyUm9sZUlkcy5sZW5ndGggPT09IGFsbFJvbGVzLmxlbmd0aCAmJiBhbGxSb2xlcy5sZW5ndGg+MAogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IHVzZXJSb2xlSWRzLmxlbmd0aD4wICYmIHVzZXJSb2xlSWRzLmxlbmd0aDxhbGxSb2xlcy5sZW5ndGgKICAgIH0sCgogICAgLyogCiAgICDor7fmsYLnu5nnlKjmiLfov5vooYzop5LoibLmjojmnYMKICAgICovCiAgICBhc3luYyBhc3NpZ25Sb2xlICgpIHsKICAgICAgY29uc3QgdXNlcklkID0gdGhpcy51c2VyLmlkCiAgICAgIGNvbnN0IHJvbGVJZHMgPSB0aGlzLnVzZXJSb2xlSWRzLmpvaW4oJywnKQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS51c2VyLmFzc2lnblJvbGVzKHVzZXJJZCwgcm9sZUlkcykKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlIHx8ICfliIbphY3op5LoibLmiJDlip8nKQogICAgICB0aGlzLnJlc2V0Um9sZURhdGEoKQoKICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lLCB0aGlzLnVzZXIpCiAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWU9PT10aGlzLnVzZXIudXNlcm5hbWUpIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgICAgfQogICAgfSwKCiAgICAvKiAKICAgIOmHjee9rueUqOaIt+inkuiJsueahOaVsOaNrgogICAgKi8KICAgIHJlc2V0Um9sZURhdGEgKCkgewogICAgICB0aGlzLmRpYWxvZ1JvbGVWaXNpYmxlID0gZmFsc2UKICAgICAgdGhpcy5hbGxSb2xlcyA9IFtdCiAgICAgIHRoaXMudXNlclJvbGVJZHMgPSBbXQogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlCiAgICAgIHRoaXMuY2hlY2tBbGwgPSBmYWxzZQogICAgfSwKCiAgICAvKiAKICAgIOiHquWumuS5ieWvhueggeagoemqjAogICAgKi8KICAgIHZhbGlkYXRlUGFzc3dvcmQgKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2soJ+WvhueggeW/hemhu+i+k+WFpScpCiAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA8IDYpIHsKICAgICAgICBjYWxsYmFjaygn5a+G56CB5LiN6IO95bCP5LqONuS9jScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9LAogICAgLyogCiAgICDmoLnmja7ovpPlhaXov5vooYzmkJzntKIKICAgICovCiAgICBzZWFyY2ggKCkgewogICAgICB0aGlzLnNlYXJjaE9iaiA9IHsuLi50aGlzLnRlbXBTZWFyY2hPYmp9CiAgICAgIHRoaXMuZ2V0VXNlcnMoKQogICAgfSwKCiAgICAvKiAKICAgIOmHjee9rui+k+WFpeWQjuaQnOe0ogogICAgKi8KICAgIHJlc2V0U2VhcmNoICgpIHsKICAgICAgdGhpcy5zZWFyY2hPYmogPSB7CiAgICAgICAgdXNlcm5hbWU6ICcnCiAgICAgIH0KICAgICAgdGhpcy50ZW1wU2VhcmNoT2JqID0gewogICAgICAgIHVzZXJuYW1lOiAnJwogICAgICB9CiAgICAgIHRoaXMuZ2V0VXNlcnMoKQogICAgfSwKCiAgICAvKiAKICAgIOaYvuekuua3u+WKoOeUqOaIt+eahOeVjOmdogogICAgKi8KICAgIHNob3dBZGRVc2VyICgpIHsKICAgICAgdGhpcy51c2VyID0ge30KICAgICAgdGhpcy5kaWFsb2dVc2VyVmlzaWJsZSA9IHRydWUKCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMuJHJlZnMudXNlckZvcm0uY2xlYXJWYWxpZGF0ZSgpKQogICAgfSwKCiAgICAvKiAKICAgIOWIoOmZpOaJgOaciemAieS4reeahOeUqOaItwogICAgKi8KICAgIHJldm9tdmVVc2VycyAoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuWIoOmZpOWQlz8nKS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICBhd2FpdCB0aGlzLiRBUEkudXNlci5yZW1vdmVVc2Vycyh0aGlzLnNlbGVjdGVkSWRzKQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJykKICAgICAgICB0aGlzLmdldFVzZXJzKCkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5Y+W5raI5Yig6ZmkJykKICAgICAgfSkKICAgIH0sCgogICAgLyogCiAgICDliJfooajpgInkuK3nirbmgIHlj5HnlJ/mlLnlj5jnmoTnm5HlkKzlm57osIMKICAgICovCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UgKHNlbGVjdGlvbikgewogICAgICB0aGlzLnNlbGVjdGVkSWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uaWQpCiAgICB9LAoKICAgIC8qIAogICAg5pi+56S65pu05paw55So5oi355qE55WM6Z2iCiAgICAqLwogICAgc2hvd1VwZGF0ZVVzZXIgKHVzZXIpIHsKICAgICAgdGhpcy51c2VyID0gY2xvbmVEZWVwKHVzZXIpCiAgICAgIHRoaXMuZGlhbG9nVXNlclZpc2libGUgPSB0cnVlCiAgICB9LAoKICAgIC8qIAogICAg5Yig6Zmk5p+Q5Liq55So5oi3CiAgICAqLwogICAgYXN5bmMgcmVtb3ZlVXNlciAoaWQpIHsKICAgICAgYXdhaXQgdGhpcy4kQVBJLnVzZXIucmVtb3ZlQnlJZChpZCkKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICB0aGlzLmdldFVzZXJzKHRoaXMudXNlcnMubGVuZ3RoPT09MSA/IHRoaXMucGFnZS0xIDogdGhpcy5wYWdlKQogICAgfSwKCiAgICAvKiAKICAgIOiOt+WPluWIhumhteWIl+ihqAogICAgKi8KICAgIGFzeW5jIGdldFVzZXJzIChwYWdlPTEpIHsKICAgICAgdGhpcy5wYWdlID0gcGFnZQogICAgICBjb25zdCB7bGltaXQsIHNlYXJjaE9ian0gPSB0aGlzCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS51c2VyLmdldFBhZ2VMaXN0KHBhZ2UsIGxpbWl0LCBzZWFyY2hPYmopCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICBjb25zdCB7aXRlbXMsIHRvdGFsfSA9IHJlc3VsdC5kYXRhCiAgICAgIHRoaXMudXNlcnMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnVzZXJuYW1lIT09J2FkbWluJykKICAgICAgdGhpcy50b3RhbCA9IHRvdGFsLTEKICAgICAgdGhpcy5zZWxlY3RlZElkcyA9IFtdCiAgICB9LAoKICAgIC8qIAogICAg5aSE55CGcGFnZVNpemXlj5HnlJ/mlLnlj5jnmoTnm5HlkKzlm57osIMKICAgICovCiAgICBoYW5kbGVTaXplQ2hhbmdlIChwYWdlU2l6ZSkgewogICAgICB0aGlzLmxpbWl0ID0gcGFnZVNpemUKICAgICAgdGhpcy5nZXRVc2VycygpCiAgICB9LAoKICAgIC8qIAogICAg5Y+W5raI55So5oi355qE5L+d5a2Y5oiW5pu05pawCiAgICAqLwogICAgY2FuY2VsICgpIHsKICAgICAgdGhpcy5kaWFsb2dVc2VyVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMudXNlciA9IHt9CiAgICB9LAoKICAgIC8qIAogICAg5L+d5a2Y5oiW6ICF5pu05paw55So5oi3CiAgICAqLwogICAgYWRkT3JVcGRhdGUgKCkgewogICAgICB0aGlzLiRyZWZzLnVzZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNvbnN0IHt1c2VyfSA9IHRoaXMKICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgICAgIHRoaXMuJEFQSS51c2VyW3VzZXIuaWQgPyAndXBkYXRlJyA6ICdhZGQnXSh1c2VyKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip8hJykKICAgICAgICAgICAgdGhpcy5nZXRVc2Vycyh1c2VyLmlkID8gdGhpcy5wYWdlIDogMSkKICAgICAgICAgICAgdGhpcy51c2VyID0ge30KICAgICAgICAgICAgdGhpcy5kaWFsb2dVc2VyVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/acl/user","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form inline>\n      <!-- 表单元素 -->\n      <el-form-item>\n         <el-input v-model=\"tempSearchObj.username\" placeholder=\"用户名\" />\n      </el-form-item>\n      <!-- 查询与清空的按钮 -->\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\n      <el-button type=\"default\" @click=\"resetSearch\">清空</el-button>\n    </el-form>\n\n    <div style=\"margin-bottom: 20px\">\n      <!-- 添加与批量添加按钮 -->\n      <el-button type=\"primary\" @click=\"showAddUser\">添 加</el-button>\n      <el-button type=\"danger\" @click=\"revomveUsers\" :disabled=\"selectedIds.length===0\"\n        >批量删除</el-button>\n    </div>\n\n    <!-- table表格：展示用户信息的地方 -->\n    <el-table\n      border\n      stripe\n      v-loading=\"listLoading\"\n      :data=\"users\"\n      @selection-change=\"handleSelectionChange\">\n\n      <el-table-column\n        type=\"selection\"\n        width=\"55\" />\n\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"80\"\n        align=\"center\"\n      />\n\n      <el-table-column prop=\"username\" label=\"用户名\" width=\"150\" />\n      <el-table-column prop=\"nickName\" label=\"用户昵称\" />\n      <el-table-column prop=\"roleName\" label=\"权限列表\" />\n      \n      <el-table-column prop=\"gmtCreate\" label=\"创建时间\" width=\"180\"/>\n      <el-table-column prop=\"gmtModified\" label=\"更新时间\" width=\"180\"/>\n\n      <el-table-column label=\"操作\" width=\"230\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <HintButton type=\"info\" size=\"mini\" icon=\"el-icon-user-solid\" title=\"分配角色\"\n            @click=\"showAssignRole(row)\"/>\n          <HintButton type=\"primary\" size=\"mini\" icon=\"el-icon-edit\" title=\"修改用户\"\n            @click=\"showUpdateUser(row)\"/>\n          <el-popconfirm :title=\"`确定删除 ${row.username} 吗?`\" @onConfirm=\"removeUser(row.id)\">\n            <HintButton style=\"margin-left:10px\" slot=\"reference\" type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" \n              title=\"删除用户\"/>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页器 -->\n    <el-pagination\n      :current-page=\"page\"\n      :total=\"total\"\n      :page-size=\"limit\"\n      :page-sizes=\"[3, 10, 20, 30, 40, 50, 100]\"\n      style=\"padding: 20px 0;\"\n      layout=\"prev, pager, next, jumper, ->, sizes, total\"\n      @current-change=\"getUsers\"\n      @size-change=\"handleSizeChange\"\n    />\n    <!-- 对话框的结构 -->\n    <el-dialog :title=\"user.id ? '修改用户' : '添加用户'\" :visible.sync=\"dialogUserVisible\">\n      <el-form ref=\"userForm\" :model=\"user\" :rules=\"userRules\" label-width=\"120px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"user.username\"/>\n        </el-form-item>\n        <el-form-item label=\"用户昵称\">\n          <el-input v-model=\"user.nickName\"/>\n        </el-form-item>\n        \n        <el-form-item v-if=\"!user.id\" label=\"用户密码\" prop=\"password\">\n          <el-input v-model=\"user.password\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">取 消</el-button>\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"addOrUpdate\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"设置角色\" :visible.sync=\"dialogRoleVisible\" :before-close=\"resetRoleData\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"用户名\">\n          <el-input disabled :value=\"user.username\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"角色列表\">\n          <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n          <div style=\"margin: 15px 0;\"></div>\n          <el-checkbox-group v-model=\"userRoleIds\" @change=\"handleCheckedChange\">\n            <el-checkbox v-for=\"role in allRoles\" :key=\"role.id\" :label=\"role.id\">{{role.roleName}}</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\">\n        <el-button :loading=\"loading\" type=\"primary\" @click=\"assignRole\">保存</el-button>\n        <el-button @click=\"resetRoleData\">取消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport cloneDeep from 'lodash/cloneDeep'\n\nexport default {\n  name: 'AclUserList',\n\n  data () {\n    return {\n      listLoading: false, // 是否显示列表加载的提示\n      searchObj: { // 包含请求搜索条件数据的对象\n        username: ''\n      },\n      tempSearchObj: { // 收集搜索条件输入的对象\n        username: ''\n      },\n      selectedIds: [], // 所有选择的user的id的数组\n      users: [], // 当前页的用户列表\n      page: 1, // 当前页码\n      limit: 3, // 每页数量\n      total: 0, // 总数量\n      user: {}, // 当前要操作的user\n      dialogUserVisible: false, // 是否显示用户添加/修改的dialog\n      userRules: { // 用户添加/修改表单的校验规则\n        username: [\n          { required: true, message: '用户名必须输入' },\n          { min: 4, message: '用户名不能小于4位' }\n        ],\n        password: [\n          { required: true, validator: this.validatePassword }\n        ]\n      },\n      loading: false, // 是否正在提交请求中\n      dialogRoleVisible: false, // 是否显示角色Dialog\n      allRoles: [], // 所有角色列表\n      userRoleIds: [], // 用户的角色ID的列表\n      isIndeterminate: false, // 是否是不确定的\n      checkAll: false, // 是否全选\n    }\n  },\n\n  //发请求一般情况下，我们都是在mounted去发，但是也可以在created内部去发\n  created () {\n    this.getUsers()\n  },\n\n  methods: {\n    /* \n    显示指定角色的界面\n    */\n    showAssignRole (user) {\n      this.user = user\n      this.dialogRoleVisible = true\n      this.getRoles()\n    },\n\n    /* \n    全选勾选状态发生改变的监听\n    */\n    handleCheckAllChange (value) {// value 当前勾选状态true/false\n      // 如果当前全选, userRoleIds就是所有角色id的数组, 否则是空数组\n      this.userRoleIds = value ? this.allRoles.map(item => item.id) : []\n      // 如果当前不是全选也不全不选时, 指定为false\n      this.isIndeterminate = false\n    },\n\n    /* \n    异步获取用户的角色列表\n    */\n    async getRoles () {\n      const result = await this.$API.user.getRoles(this.user.id)\n      const {allRolesList, assignRoles} = result.data\n      this.allRoles = allRolesList\n      this.userRoleIds = assignRoles.map(item => item.id)\n      \n      this.checkAll = allRolesList.length===assignRoles.length\n      this.isIndeterminate = assignRoles.length>0 && assignRoles.length<allRolesList.length\n    },\n\n    /* \n    角色列表选中项发生改变的监听\n    */\n    handleCheckedChange (value) {\n      const {userRoleIds, allRoles} = this\n      this.checkAll = userRoleIds.length === allRoles.length && allRoles.length>0\n      this.isIndeterminate = userRoleIds.length>0 && userRoleIds.length<allRoles.length\n    },\n\n    /* \n    请求给用户进行角色授权\n    */\n    async assignRole () {\n      const userId = this.user.id\n      const roleIds = this.userRoleIds.join(',')\n      this.loading = true\n      const result = await this.$API.user.assignRoles(userId, roleIds)\n      this.loading = false\n      this.$message.success(result.message || '分配角色成功')\n      this.resetRoleData()\n\n      // console.log(this.$store.getters.name, this.user)\n      if (this.$store.getters.name===this.user.username) {\n        window.location.reload()\n      }\n    },\n\n    /* \n    重置用户角色的数据\n    */\n    resetRoleData () {\n      this.dialogRoleVisible = false\n      this.allRoles = []\n      this.userRoleIds = []\n      this.isIndeterminate = false\n      this.checkAll = false\n    },\n\n    /* \n    自定义密码校验\n    */\n    validatePassword (rule, value, callback) {\n      if (!value) {\n        callback('密码必须输入')\n      } else if (!value || value.length < 6) {\n        callback('密码不能小于6位')\n      } else {\n        callback()\n      }\n    },\n    /* \n    根据输入进行搜索\n    */\n    search () {\n      this.searchObj = {...this.tempSearchObj}\n      this.getUsers()\n    },\n\n    /* \n    重置输入后搜索\n    */\n    resetSearch () {\n      this.searchObj = {\n        username: ''\n      }\n      this.tempSearchObj = {\n        username: ''\n      }\n      this.getUsers()\n    },\n\n    /* \n    显示添加用户的界面\n    */\n    showAddUser () {\n      this.user = {}\n      this.dialogUserVisible = true\n\n      this.$nextTick(() => this.$refs.userForm.clearValidate())\n    },\n\n    /* \n    删除所有选中的用户\n    */\n    revomveUsers () {\n      this.$confirm('确定删除吗?').then(async () => {\n        await this.$API.user.removeUsers(this.selectedIds)\n        this.$message.success('删除成功')\n        this.getUsers()\n      }).catch(() => {\n        this.$message.info('取消删除')\n      })\n    },\n\n    /* \n    列表选中状态发生改变的监听回调\n    */\n    handleSelectionChange (selection) {\n      this.selectedIds = selection.map(item => item.id)\n    },\n\n    /* \n    显示更新用户的界面\n    */\n    showUpdateUser (user) {\n      this.user = cloneDeep(user)\n      this.dialogUserVisible = true\n    },\n\n    /* \n    删除某个用户\n    */\n    async removeUser (id) {\n      await this.$API.user.removeById(id)\n      this.$message.success('删除成功')\n      this.getUsers(this.users.length===1 ? this.page-1 : this.page)\n    },\n\n    /* \n    获取分页列表\n    */\n    async getUsers (page=1) {\n      this.page = page\n      const {limit, searchObj} = this\n      this.listLoading = true\n      const result = await this.$API.user.getPageList(page, limit, searchObj)\n      this.listLoading = false\n      const {items, total} = result.data\n      this.users = items.filter(item => item.username!=='admin')\n      this.total = total-1\n      this.selectedIds = []\n    },\n\n    /* \n    处理pageSize发生改变的监听回调\n    */\n    handleSizeChange (pageSize) {\n      this.limit = pageSize\n      this.getUsers()\n    },\n\n    /* \n    取消用户的保存或更新\n    */\n    cancel () {\n      this.dialogUserVisible = false\n      this.user = {}\n    },\n\n    /* \n    保存或者更新用户\n    */\n    addOrUpdate () {\n      this.$refs.userForm.validate(valid => {\n        if (valid) {\n          const {user} = this\n          this.loading = true\n          this.$API.user[user.id ? 'update' : 'add'](user).then((result) => {\n            this.loading = false\n            this.$message.success('保存成功!')\n            this.getUsers(user.id ? this.page : 1)\n            this.user = {}\n            this.dialogUserVisible = false\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}