{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\index.vue","mtime":1653015154295},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5byV5YWl5a2Q57uE5Lu2CmltcG9ydCBTcHVGb3JtIGZyb20gIi4vU3B1Rm9ybSI7CmltcG9ydCBTa3VGb3JtIGZyb20gIi4vU2t1Rm9ybSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU3B1IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/liIbliKvmmK/liIbnsbvnmoRpZAogICAgICBjYXRlZ29yeTFJZDogIiIsCiAgICAgIGNhdGVnb3J5MklkOiAiIiwKICAgICAgY2F0ZWdvcnkzSWQ6ICIiLAogICAgICAvL+aOp+WItuS4iee6p+iBlOWKqOeahOWPr+aTjeS9nOaApwogICAgICBwYWdlOiAxLCAvL+WIhumhteWZqOW9k+WJjeesrOWHoOmhtQogICAgICBsaW1pdDogMywgLy/mr4/kuIDpobXpnIDopoHlsZXnpLrlpJrlsJHmnaHmlbDmja4KICAgICAgcmVjb3JkczogW10sIC8vc3B15YiX6KGo55qE5pWw5o2uCiAgICAgIHRvdGFsOiAwLCAvL+WIhumhteWZqOS4gOWFsemcgOimgeWxleekuuaVsOaNrueahOadoeaVsAogICAgICBzY2VuZTogMCwgLy8w5Luj6KGo5bGV56S6U1BV5YiX6KGo5pWw5o2uICAgMSDmt7vliqBTUFV85L+u5pS5U1BVICAgMiDmt7vliqBTS1UKICAgICAgLy/mjqfliLblr7nor53moYbnmoTmmL7npLrkuI7pmpDol48KICAgICAgZGlhbG9nVGFibGVWaXNpYmxlOiBmYWxzZSwKICAgICAgc3B1OiB7fSwKICAgICAgc2t1TGlzdDogW10sIC8v5a2Y5YKo55qE5pivU0tV5YiX6KGo55qE5pWw5o2uCiAgICAgIGxvYWRpbmc6dHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5LiJ57qn6IGU5Yqo55qE6Ieq5a6a5LmJ5LqL5Lu277yM5Y+v5Lul5oqK5a2Q57uE5Lu255qE55u45bqU55qEaWTkvKDpgJLnu5nniLbnu4Tku7YKICAgIGdldENhdGVnb3J5SWQoeyBjYXRlZ29yeUlkLCBsZXZlbCB9KSB7CiAgICAgIC8vY2F0ZWdvcnlJZDrojrflj5bliLDkuIDjgIHkuozjgIHkuInnuqfliIbnsbvnmoRpZCAgbGV2ZWzvvJrkuLrkuobljLrliIbmmK/lh6DnuqdpZAogICAgICBpZiAobGV2ZWwgPT0gMSkgewogICAgICAgIHRoaXMuY2F0ZWdvcnkxSWQgPSBjYXRlZ29yeUlkOwogICAgICAgIC8v5riF6ZmkMuOAgTPnuqfliIbnsbvnmoRpZAogICAgICAgIHRoaXMuY2F0ZWdvcnkySWQgPSAiIjsKICAgICAgICB0aGlzLmNhdGVnb3J5M0lkID0gIiI7CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gMikgewogICAgICAgIHRoaXMuY2F0ZWdvcnkySWQgPSBjYXRlZ29yeUlkOwogICAgICAgIC8v5riF6ZmkM+e6p2lkCiAgICAgICAgdGhpcy5jYXRlZ29yeTNJZCA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2F0ZWdvcnkzSWQgPSBjYXRlZ29yeUlkOwogICAgICAgIC8v6I635Y+WU1BV5YiX6KGo5pWw5o2u6L+b6KGM5bGV56S6CiAgICAgICAgdGhpcy5nZXRTcHVMaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPllNQVeWIl+ihqOaVsOaNrueahOaWueazlQogICAgYXN5bmMgZ2V0U3B1TGlzdChwYWdlcyA9IDEpIHsKICAgICAgdGhpcy5wYWdlID0gcGFnZXM7CiAgICAgIGNvbnN0IHsgcGFnZSwgbGltaXQsIGNhdGVnb3J5M0lkIH0gPSB0aGlzOwogICAgICAvL+aQuuW4puS4ieS4quWPguaVsDpwYWdlIOesrOWHoOmhtSAgbGltaXQg5q+P5LiA6aG16ZyA6KaB5bGV56S65aSa5bCR5p2h5pWw5o2uICDkuInnuqfliIbnsbtpZAogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFTcHVMaXN0KHBhZ2UsIGxpbWl0LCBjYXRlZ29yeTNJZCk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzdWx0LmRhdGEudG90YWw7CiAgICAgICAgdGhpcy5yZWNvcmRzID0gcmVzdWx0LmRhdGEucmVjb3JkczsKICAgICAgfQogICAgfSwKICAgIC8v54K55Ye75YiG6aG15Zmo55qE56ys5Yeg6aG15oyJ6ZKu55qE5Zue6LCDCiAgICAvLyBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2UpewogICAgLy8gICB0aGlzLnBhZ2U9cGFnZQogICAgLy8gICB0aGlzLmdldFNwdUxpc3QoKTsKICAgIC8vIH0sCiAgICAvL+W9k+WIhumhteWZqOeahOafkOS4gOS4quWxleekuuaVsOaNruadoeaVsOWPkeeUn+WPmOWMlueahOWbnuiwgwogICAgaGFuZGxlU2l6ZUNoYW5nZShsaW1pdCkgewogICAgICAvL+S/ruaUueWPguaVsAogICAgICB0aGlzLmxpbWl0ID0gbGltaXQ7CiAgICAgIC8v5YaN5Y+R6K+35rGCCiAgICAgIHRoaXMuZ2V0U3B1TGlzdCgpOwogICAgfSwKICAgIC8v5re75YqgU1BV5oyJ6ZKu55qE5Zue6LCDCiAgICBhZGRTcHUoKSB7CiAgICAgIC8v5YiH5o2i5Li65Zy65pmv5Li6MQogICAgICB0aGlzLnNjZW5lID0gMTsKICAgICAgLy/pgJrnn6XlrZDnu4Tku7ZTcHVGb3Jt5Y+R6K+35rGCLS0t5Lik5LiqCiAgICAgIHRoaXMuJHJlZnMuc3B1LmFkZFNwdURhdGEodGhpcy5jYXRlZ29yeTNJZCk7CiAgICB9LAogICAgLy/kv67mlLnmn5DkuIDkuKpTUFUKICAgIHVwZGF0ZVNwdShyb3cpIHsKICAgICAgdGhpcy5zY2VuZSA9IDE7CiAgICAgIC8v6I635Y+W5a2Q57uE5Lu2U3B1Rm9ybeWtkOe7hOS7tueahAogICAgICAvL+WcqOeItue7hOS7tuW9k+S4reWPr+S7pemAmui/hyRyZWbojrflj5blrZDnu4Tku7bnrYnnrYkKICAgICAgdGhpcy4kcmVmcy5zcHUuaW5pdFNwdURhdGEocm93KTsKICAgIH0sCiAgICAvL+iHquWumuS5ieS6i+S7tuWbnuiwg++8iFNwdUZvcm3vvIkKICAgIGNoYW5nZVNjZW5lKHsgc2NlbmUsIGZsYWcgfSkgewogICAgICAvL2ZsYWfov5nkuKrlvaLlj4LkuLrkuobljLrliIbkv53lrZjmjInpkq7mmK/mt7vliqDov5jmmK/kv67mlLkKICAgICAgLy/liIfmjaLnu5PmnoTvvIjlnLrmma/vvIkKICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lOwogICAgICAvL+WtkOe7hOS7tumAmuefpeeItue7hOS7tuWIh+aNouWcuuaZr++8jOmcgOimgeWGjeasoeiOt+WPllNQVeWIl+ihqOeahOaVsOaNrui/m+ihjOWxleekugogICAgICBpZiAoZmxhZyA9PSAi5L+u5pS5IikgewogICAgICAgIHRoaXMuZ2V0U3B1TGlzdCh0aGlzLnBhZ2UpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0U3B1TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgLy/liKDpmaRTUFXnmoTlm57osIMKICAgIGFzeW5jIGRlbGV0ZVNwdShyb3cpIHsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5zcHUucmVxRGVsZXRlU3B1KHJvdy5pZCk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIiB9KTsKICAgICAgICAvL+S7o+ihqFNQVeS4quaVsOWkp+S6jjHliKDpmaTnmoTml7blgJnlgZznlZnlnKjlvZPliY3pobXvvIzlpoLmnpxTUFXkuKrmlbDlsI/kuo4xIOWbnuWIsOS4iuS4gOmhtQogICAgICAgIHRoaXMuZ2V0U3B1TGlzdCh0aGlzLnJlY29yZHMubGVuZ3RoID4gMSA/IHRoaXMucGFnZSA6IHRoaXMucGFnZSAtIDEpOwogICAgICB9CiAgICB9LAogICAgLy/mt7vliqBTS1XmjInpkq7nmoTlm57osIMKICAgIGFkZFNrdShyb3cpIHsKICAgICAgLy/liIfmjaLlnLrmma/kuLoyCiAgICAgIHRoaXMuc2NlbmUgPSAyOwogICAgICAvL+eItue7hOS7tuiwg+eUqOWtkOe7hOS7tueahOaWueazle+8jOiuqeWtkOe7hOS7tuWPkeivt+axgi0tLS0tLeS4ieS4quivt+axggogICAgICB0aGlzLiRyZWZzLnNrdS5nZXREYXRhKHRoaXMuY2F0ZWdvcnkxSWQsIHRoaXMuY2F0ZWdvcnkySWQsIHJvdyk7CiAgICB9LAogICAgLy9za3Vmb3Jt6YCa55+l54i257uE5Lu25L+u5pS55Zy65pmvCiAgICBjaGFuZ2VTY2VuZXMoc2NlbmUpIHsKICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lOwogICAgfSwKICAgIC8v5p+l55yLU0tV55qE5oyJ6ZKu55qE5Zue6LCDCiAgICBhc3luYyBoYW5kbGVyKHNwdSkgewogICAgICAvL+eCueWHu+i/meS4quaMiemSrueahOaXtuWAme+8jOWvueivneahhuWPr+ingeeahAogICAgICB0aGlzLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IHRydWU7CiAgICAgIC8v5L+d5a2Yc3B15L+h5oGvCiAgICAgIHRoaXMuc3B1ID0gc3B1OwogICAgICAvL+iOt+WPlnNrdeWIl+ihqOeahOaVsOaNrui/m+ihjOWxleekugogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFTa3VMaXN0KHNwdS5pZCk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLnNrdUxpc3QgPSByZXN1bHQuZGF0YTsKICAgICAgICAvL2xvYWRpbmfpmpDol48KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8v5YWz6Zet5a+56K+d5qGG55qE5Zue6LCDCiAgICBjbG9zZShkb25lKXsKICAgICAgLy9sb2FkaW5n5bGe5oCn5YaN5qyh5Y+Y5Li655yfCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIC8v5riF6Zmkc2t15YiX6KGo55qE5pWw5o2uCiAgICAgIHRoaXMuc2t1TGlzdCA9IFtdOwogICAgICAvL+euoeeQhuWvueivneahhgogICAgICBkb25lKCk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTcHVGb3JtLAogICAgU2t1Rm9ybSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Spu","sourcesContent":["<template>\n  <div>\n    <el-card style=\"margin: 20px 0px\">\n      <!-- 三级联动已经是全局组件了 -->\n      <CategorySelect\n        @getCategoryId=\"getCategoryId\"\n        :show=\"scene != 0\"\n      ></CategorySelect>\n    </el-card>\n    <el-card>\n      <!-- 底部这里将来是有三部分进行切换 -->\n      <div v-show=\"scene == 0\">\n        <!-- 展示SPU列表的结构 -->\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          :disabled=\"!category3Id\"\n          @click=\"addSpu\"\n          >添加SPU</el-button\n        >\n        <el-table style=\"width: 100%\" border :data=\"records\">\n          <el-table-column type=\"index\" label=\"序号\" width=\"80\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"spuName\" label=\"SPU名称\" width=\"width\">\n          </el-table-column>\n          <el-table-column prop=\"description\" label=\"SPU描述\" width=\"width\">\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <!-- 这里按钮将来用hintButton替换 -->\n              <hint-button\n                type=\"success\"\n                icon=\"el-icon-plus\"\n                size=\"mini\"\n                title=\"添加sku\"\n                @click=\"addSku(row)\"\n              ></hint-button>\n              <hint-button\n                type=\"warning\"\n                icon=\"el-icon-edit\"\n                size=\"mini\"\n                title=\"修改spu\"\n                @click=\"updateSpu(row)\"\n              ></hint-button>\n              <hint-button\n                type=\"info\"\n                icon=\"el-icon-info\"\n                size=\"mini\"\n                title=\"查看当前spu全部sku列表\"\n                @click=\"handler(row)\"\n              ></hint-button>\n\n              <!-- 这里可以使用 el-tooltip 替换封装的按钮组件，达到在按钮下方显示提示文字的效果（白底黑字） -->\n               <!-- <el-tooltip content=\"提示的文字\" placement=\"bottom\" effect=\"light\">\n                    <el-button type=\"info\" icon=\"el-icon-info\" size=\"mini\"></el-button>\n               </el-tooltip> -->\n\n              <el-popconfirm\n                title=\"这是一段内容确定删除吗？\"\n                @onConfirm=\"deleteSpu(row)\"\n              >\n                <hint-button\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  size=\"mini\"\n                  title=\"删除spu\"\n                  slot=\"reference\"\n                ></hint-button>\n              </el-popconfirm>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-pagination\n          style=\"text-align: center\"\n          :current-page=\"page\"\n          :page-sizes=\"[3, 5, 10]\"\n          :page-size=\"limit\"\n          layout=\"prev, pager, next, jumper,->, sizes,total\"\n          @current-change=\"getSpuList\"\n          @size-change=\"handleSizeChange\"\n          :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n      <SpuForm\n        v-show=\"scene == 1\"\n        @changeScene=\"changeScene\"\n        ref=\"spu\"\n      ></SpuForm>\n      <SkuForm\n        v-show=\"scene == 2\"\n        ref=\"sku\"\n        @changeScenes=\"changeScenes\"\n      ></SkuForm>\n    </el-card>\n    <el-dialog\n      :title=\"`${spu.spuName}的sku列表`\"\n      :visible.sync=\"dialogTableVisible\"\n      :before-close=\"close\"\n    >\n      <!-- before-close\t  关闭前的回调，会暂停 Dialog 的关闭  \t类型：function(done)，done 用于关闭 Dialog -->\n      <!-- table展示sku列表-->\n      <el-table :data=\"skuList\" style=\"width: 100%\" border v-loading=\"loading\">\n        <el-table-column prop=\"skuName\" label=\"名称\" width=\"width\">\n        </el-table-column>\n        <el-table-column prop=\"price\" label=\"价格\" width=\"width\">\n        </el-table-column>\n        <el-table-column prop=\"weight\" label=\"重量\" width=\"width\">\n        </el-table-column>\n        <el-table-column label=\"默认图片\" width=\"width\">\n           <template slot-scope=\"{row,$index}\">\n               <img :src=\"row.skuDefaultImg\" alt=\"\" style=\"width:100px;height:100px;\">\n           </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n//引入子组件\nimport SpuForm from \"./SpuForm\";\nimport SkuForm from \"./SkuForm\";\nexport default {\n  name: \"Spu\",\n  data() {\n    return {\n      //分别是分类的id\n      category1Id: \"\",\n      category2Id: \"\",\n      category3Id: \"\",\n      //控制三级联动的可操作性\n      page: 1, //分页器当前第几页\n      limit: 3, //每一页需要展示多少条数据\n      records: [], //spu列表的数据\n      total: 0, //分页器一共需要展示数据的条数\n      scene: 0, //0代表展示SPU列表数据   1 添加SPU|修改SPU   2 添加SKU\n      //控制对话框的显示与隐藏\n      dialogTableVisible: false,\n      spu: {},\n      skuList: [], //存储的是SKU列表的数据\n      loading:true\n    };\n  },\n  methods: {\n    //三级联动的自定义事件，可以把子组件的相应的id传递给父组件\n    getCategoryId({ categoryId, level }) {\n      //categoryId:获取到一、二、三级分类的id  level：为了区分是几级id\n      if (level == 1) {\n        this.category1Id = categoryId;\n        //清除2、3级分类的id\n        this.category2Id = \"\";\n        this.category3Id = \"\";\n      } else if (level == 2) {\n        this.category2Id = categoryId;\n        //清除3级id\n        this.category3Id = \"\";\n      } else {\n        this.category3Id = categoryId;\n        //获取SPU列表数据进行展示\n        this.getSpuList();\n      }\n    },\n    //获取SPU列表数据的方法\n    async getSpuList(pages = 1) {\n      this.page = pages;\n      const { page, limit, category3Id } = this;\n      //携带三个参数:page 第几页  limit 每一页需要展示多少条数据  三级分类id\n      let result = await this.$API.spu.reqSpuList(page, limit, category3Id);\n      if (result.code == 200) {\n        this.total = result.data.total;\n        this.records = result.data.records;\n      }\n    },\n    //点击分页器的第几页按钮的回调\n    // handleCurrentChange(page){\n    //   this.page=page\n    //   this.getSpuList();\n    // },\n    //当分页器的某一个展示数据条数发生变化的回调\n    handleSizeChange(limit) {\n      //修改参数\n      this.limit = limit;\n      //再发请求\n      this.getSpuList();\n    },\n    //添加SPU按钮的回调\n    addSpu() {\n      //切换为场景为1\n      this.scene = 1;\n      //通知子组件SpuForm发请求---两个\n      this.$refs.spu.addSpuData(this.category3Id);\n    },\n    //修改某一个SPU\n    updateSpu(row) {\n      this.scene = 1;\n      //获取子组件SpuForm子组件的\n      //在父组件当中可以通过$ref获取子组件等等\n      this.$refs.spu.initSpuData(row);\n    },\n    //自定义事件回调（SpuForm）\n    changeScene({ scene, flag }) {\n      //flag这个形参为了区分保存按钮是添加还是修改\n      //切换结构（场景）\n      this.scene = scene;\n      //子组件通知父组件切换场景，需要再次获取SPU列表的数据进行展示\n      if (flag == \"修改\") {\n        this.getSpuList(this.page);\n      } else {\n        this.getSpuList();\n      }\n    },\n    //删除SPU的回调\n    async deleteSpu(row) {\n      let result = await this.$API.spu.reqDeleteSpu(row.id);\n      if (result.code == 200) {\n        this.$message({ type: \"success\", message: \"删除成功\" });\n        //代表SPU个数大于1删除的时候停留在当前页，如果SPU个数小于1 回到上一页\n        this.getSpuList(this.records.length > 1 ? this.page : this.page - 1);\n      }\n    },\n    //添加SKU按钮的回调\n    addSku(row) {\n      //切换场景为2\n      this.scene = 2;\n      //父组件调用子组件的方法，让子组件发请求------三个请求\n      this.$refs.sku.getData(this.category1Id, this.category2Id, row);\n    },\n    //skuform通知父组件修改场景\n    changeScenes(scene) {\n      this.scene = scene;\n    },\n    //查看SKU的按钮的回调\n    async handler(spu) {\n      //点击这个按钮的时候，对话框可见的\n      this.dialogTableVisible = true;\n      //保存spu信息\n      this.spu = spu;\n      //获取sku列表的数据进行展示\n      let result = await this.$API.spu.reqSkuList(spu.id);\n      if (result.code == 200) {\n        this.skuList = result.data;\n        //loading隐藏\n        this.loading = false;\n      }\n    },\n    //关闭对话框的回调\n    close(done){\n      //loading属性再次变为真\n      this.loading = true;\n      //清除sku列表的数据\n      this.skuList = [];\n      //管理对话框\n      done();\n    }\n  },\n  components: {\n    SpuForm,\n    SkuForm,\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}