{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Sku\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Sku\\index.vue","mtime":1653021403467},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2t1IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZTogMSwgLy/ku6PooajlvZPliY3nrKzlh6DpobUKICAgICAgbGltaXQ6IDEwLCAvL+S7o+ihqOW9k+WJjemhtemdouacieWHoOadoeaVsOaNrgogICAgICByZWNvcmRzOiBbXSwgLy/lrZjlgqhTS1XliJfooajnmoTmlbDmja4KICAgICAgdG90YWw6IDAsIC8v5a2Y5YKo5YiG6aG15Zmo5LiA5YWx5bGV56S655qE5pWw5o2uCiAgICAgIHNrdUluZm86e30sLy/lrZjlgqhTS1Xkv6Hmga8KICAgICAgc2hvdzpmYWxzZSwKICAgIH07CiAgfSwKICAvL+e7hOS7tuaMgui9veWujOavlQogIG1vdW50ZWQoKSB7CiAgICAvL+iOt+WPlnNrdeWIl+ihqOeahOaWueazlQogICAgdGhpcy5nZXRTa3VMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPlnNrdeWIl+ihqOaVsOaNrueahOaWueazlQogICAgYXN5bmMgZ2V0U2t1TGlzdChwYWdlcyA9IDEpIHsKICAgICAgdGhpcy5wYWdlID0gcGFnZXM7CiAgICAgIC8v6Kej5p6E5Ye66buY6K6k55qE5Y+C5pWwCiAgICAgIGNvbnN0IHsgcGFnZSwgbGltaXQgfSA9IHRoaXM7CiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkuc2t1LnJlcVNrdUxpc3QocGFnZSwgbGltaXQpOwogICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3VsdC5kYXRhLnRvdGFsOwogICAgICAgIHRoaXMucmVjb3JkcyA9IHJlc3VsdC5kYXRhLnJlY29yZHM7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKGxpbWl0KSB7CiAgICAgIC8v5L+u5pS55Y+C5pWwCiAgICAgIHRoaXMubGltaXQgPSBsaW1pdDsKICAgICAgdGhpcy5nZXRTa3VMaXN0KCk7CiAgICB9LAogICAgLy/kuIrmnrYKICAgIGFzeW5jIHNhbGUocm93KSB7CiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkuc2t1LnJlcVNhbGUocm93LmlkKTsKICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgIHJvdy5pc1NhbGUgPSAxOwogICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAic3VjY2VzcyIsIG1lc3NhZ2U6ICLkuIrmnrbmiJDlip8iIH0pOwogICAgICB9CiAgICB9LAogICAgLy/kuIvmnrYKICAgIGFzeW5jIGNhbmNlbChyb3cpIHsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5za3UucmVxQ2FuY2VsKHJvdy5pZCk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICByb3cuaXNTYWxlID0gMDsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5LiL5p625oiQ5YqfIiB9KTsKICAgICAgfQogICAgfSwKICAgIGVkaXQoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoIuato+WcqOW8gOWPkeS4rSIpOwogICAgfSwKICAgIC8v6I635Y+WU0tV6K+m5oOF55qE5pa55rOVCiAgICBhc3luYyBnZXRTa3VJbmZvKHNrdSl7CiAgICAgIC8v5bGV56S65oq95bGJCiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgIC8v6I635Y+WU0tV5pWw5o2uCiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkuc2t1LnJlcVNrdUJ5SWQoc2t1LmlkKTsKICAgICAgaWYocmVzdWx0LmNvZGU9PTIwMCl7CiAgICAgICAgIHRoaXMuc2t1SW5mbyA9IHJlc3VsdC5kYXRhOwogICAgICB9CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Sku","sourcesContent":["<template>\n  <div>\n    <!-- 表格 -->\n    <el-table style=\"width: 100%\" border :data=\"records\">\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        width=\"80\"\n        align=\"center\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"skuName\"\n        label=\"名称\"\n        width=\"width\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"skuDesc\"\n        label=\"描述\"\n        width=\"width\"\n      ></el-table-column>\n      <el-table-column label=\"默认图片\" width=\"110\">\n        <template slot-scope=\"{ row, $index }\">\n          <img\n            :src=\"row.skuDefaultImg\"\n            alt=\"\"\n            style=\"width: 80px; height: 80px\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"weight\" label=\"重量\" width=\"80\"></el-table-column>\n      <el-table-column prop=\"price\" label=\"价格\" width=\"80\"></el-table-column>\n      <el-table-column prop=\"prop\" label=\"操作\" width=\"width\">\n        <template slot-scope=\"{ row, $index }\">\n          <el-button\n            type=\"success\"\n            icon=\"el-icon-sort-down\"\n            size=\"mini\"\n            v-if=\"row.isSale == 0\"\n            @click=\"sale(row)\"\n          ></el-button>\n          <el-button\n            type=\"success\"\n            icon=\"el-icon-sort-up\"\n            size=\"mini\"\n            v-else\n            @click=\"cancel(row)\"\n          ></el-button>\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            size=\"mini\"\n            @click=\"edit\"\n          ></el-button>\n          <el-button\n            type=\"info\"\n            icon=\"el-icon-info\"\n            size=\"mini\"\n            @click=\"getSkuInfo(row)\"\n          ></el-button>\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n          ></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页          -->\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"getSkuList\"\n      style=\"text-align: center\"\n      :current-page=\"page\"\n      :page-sizes=\"[3, 5, 10]\"\n      :page-size=\"limit\"\n      layout=\"prev, pager, next, jumper,->,sizes,total\"\n      :total=\"total\"\n    >\n    </el-pagination>\n        <!-- 抽屉效果 -->\n    <el-drawer  :visible.sync=\"show\" :show-close=\"false\" size=\"50%\">\n      <el-row>\n      <el-col :span=\"5\">名称</el-col>\n      <el-col :span=\"16\">{{skuInfo.skuName}}</el-col>\n    </el-row>\n       <el-row>\n      <el-col :span=\"5\">描述</el-col>\n      <el-col :span=\"16\">{{skuInfo.skuDesc}}</el-col>\n    </el-row>\n       <el-row>\n      <el-col :span=\"5\">价格</el-col>\n      <el-col :span=\"16\">{{skuInfo.price}}元</el-col>\n    </el-row>\n       <el-row>\n      <el-col :span=\"5\">平台属性</el-col>\n      <el-col :span=\"16\">\n        <template>\n            <el-tag type=\"success\" v-for=\"(attr,index) in skuInfo.skuAttrValueList\" :key=\"attr.id\" style=\"margin-right:10px\">{{attr.attrId}}-{{attr.valueId}}</el-tag>\n        </template>\n      </el-col>\n    </el-row>\n       <el-row>\n      <el-col :span=\"5\">商品图片</el-col>\n      <el-col :span=\"16\">\n        <el-carousel height=\"350px\">\n         <el-carousel-item v-for=\"item in skuInfo.skuImageList\" :key=\"item.id\">  \n               <img :src=\"item.imgUrl\" style=\"width:100%;\">\n        </el-carousel-item>\n    </el-carousel>\n      </el-col>\n    </el-row>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Sku\",\n  data() {\n    return {\n      page: 1, //代表当前第几页\n      limit: 10, //代表当前页面有几条数据\n      records: [], //存储SKU列表的数据\n      total: 0, //存储分页器一共展示的数据\n      skuInfo:{},//存储SKU信息\n      show:false,\n    };\n  },\n  //组件挂载完毕\n  mounted() {\n    //获取sku列表的方法\n    this.getSkuList();\n  },\n  methods: {\n    //获取sku列表数据的方法\n    async getSkuList(pages = 1) {\n      this.page = pages;\n      //解构出默认的参数\n      const { page, limit } = this;\n      let result = await this.$API.sku.reqSkuList(page, limit);\n      if (result.code == 200) {\n        this.total = result.data.total;\n        this.records = result.data.records;\n      }\n    },\n    handleSizeChange(limit) {\n      //修改参数\n      this.limit = limit;\n      this.getSkuList();\n    },\n    //上架\n    async sale(row) {\n      let result = await this.$API.sku.reqSale(row.id);\n      if (result.code == 200) {\n        row.isSale = 1;\n        this.$message({ type: \"success\", message: \"上架成功\" });\n      }\n    },\n    //下架\n    async cancel(row) {\n      let result = await this.$API.sku.reqCancel(row.id);\n      if (result.code == 200) {\n        row.isSale = 0;\n        this.$message({ type: \"success\", message: \"下架成功\" });\n      }\n    },\n    edit() {\n      this.$message(\"正在开发中\");\n    },\n    //获取SKU详情的方法\n    async getSkuInfo(sku){\n      //展示抽屉\n      this.show = true;\n      //获取SKU数据\n      let result = await this.$API.sku.reqSkuById(sku.id);\n      if(result.code==200){\n         this.skuInfo = result.data;\n      }\n    }\n  },\n};\n</script>\n\n\n<style>\n  .el-carousel__item h3 {\n    color: #475669;\n    font-size: 14px;\n    opacity: 0.75;\n    line-height: 150px;\n    margin: 0;\n  }\n\n  .el-carousel__item:nth-child(2n) {\n     background-color: #99a9bf;\n  }\n  \n  .el-carousel__item:nth-child(2n+1) {\n     background-color: #d3dce6;\n  }\n</style>\n\n<style scoped>\n   .el-row .el-col-5{\n      font-size:18px;\n      text-align:right;\n   }\n   .el-col{\n     margin:10px 10px;\n   }\n\n  /* 深度选择器，可以进行样式穿透，父组件中的样式加上scoped，想影响到子组件中的样式加上scoped，是可以的 */\n   >>>.el-carousel__button{\n    width:10px;\n    height:10px;\n    background:red;\n    border-radius:50%;\n  }\n</style>\n"]}]}