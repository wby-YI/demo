{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\SpuForm\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Spu\\SpuForm\\index.vue","mtime":1653888705674},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU3B1Rm9ybSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ0ltYWdlVXJsOiAiIiwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCgogICAgICAvL3NwdeWxnuaAp+WIneWni+WMlueahOaXtuWAmeaYr+S4gOS4quepuueahOWvueixoSzlnKjkv67mlLlTUFXnmoTml7blgJnvvIzkvJrlkJHmnI3liqHlmajlj5Hor7fmsYLvvIzov5Tlm55TUFXkv6Hmga/vvIjlr7nosaHvvInvvIzlnKjkv67mlLnnmoTml7blgJnlj6/ku6XliKnnlKjmnI3liqHlmajov5Tlm57nmoTov5nkuKrlr7nosaHmlLbpm4bmnIDmlrDnmoTmlbDmja7mj5DkuqTnu5nmnI3liqHlmagKICAgICAgLy/mt7vliqBTUFXvvJrlpoLmnpzmmK/mt7vliqBTUFXnmoTml7blgJnvvIzlubbmsqHmnInlkJHmnI3liqHlmajlj5Hor7fmsYLvvIzmlbDmja7mlLbpm4bliLDlk6rph4zvvJ9bU1BVXe+8jOaUtumbhuaVsOaNrueahOaXtuWAmeacieWTquS6m+Wtl+auteWRou+8n+eci+aWh+ahowogICAgICBzcHU6IHsKICAgICAgICAvL+S4iee6p+WIhuexu+eahGlkCiAgICAgICAgY2F0ZWdvcnkzSWQ6IDAsCiAgICAgICAgLy/mj4/ov7AKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgLy9zcHXlkI3np7AKICAgICAgICBzcHVOYW1lOiAiIiwKICAgICAgICAvL+WTgeeJjOeahGlkCiAgICAgICAgdG1JZDogIiIsCiAgICAgICAgLy/mlLbpm4ZTUFXlm77niYfnmoTkv6Hmga8KICAgICAgICBzcHVJbWFnZUxpc3Q6IFsKICAgICAgICAgIC8vIHsKICAgICAgICAgIC8vICAgaWQ6IDAsCiAgICAgICAgICAvLyAgIGltZ05hbWU6ICJzdHJpbmciLAogICAgICAgICAgLy8gICBpbWdVcmw6ICJzdHJpbmciLAogICAgICAgICAgLy8gICBzcHVJZDogMCwKICAgICAgICAgIC8vIH0sCiAgICAgICAgXSwKICAgICAgICAvL+W5s+WPsOmUgOWUruWxnuaAp+S4juWxnuaAp+WAvOaUtumbhgogICAgICAgIHNwdVNhbGVBdHRyTGlzdDogWwogICAgICAgICAgLy8gewogICAgICAgICAgLy8gICBiYXNlU2FsZUF0dHJJZDogMCwKICAgICAgICAgIC8vICAgaWQ6IDAsCiAgICAgICAgICAvLyAgIHNhbGVBdHRyTmFtZTogInN0cmluZyIsCiAgICAgICAgICAvLyAgIHNwdUlkOiAwLAogICAgICAgICAgLy8gICBzcHVTYWxlQXR0clZhbHVlTGlzdDogWwogICAgICAgICAgLy8gICAgIHsKICAgICAgICAgIC8vICAgICAgIGJhc2VTYWxlQXR0cklkOiAwLAogICAgICAgICAgLy8gICAgICAgaWQ6IDAsCiAgICAgICAgICAvLyAgICAgICBpc0NoZWNrZWQ6ICJzdHJpbmciLAogICAgICAgICAgLy8gICAgICAgc2FsZUF0dHJOYW1lOiAic3RyaW5nIiwKICAgICAgICAgIC8vICAgICAgIHNhbGVBdHRyVmFsdWVOYW1lOiAic3RyaW5nIiwKICAgICAgICAgIC8vICAgICAgIHNwdUlkOiAwLAogICAgICAgICAgLy8gICAgIH0sCiAgICAgICAgICAvLyAgIF0sCiAgICAgICAgICAvLyB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIHRyYWRlTWFya0xpc3Q6IFtdLCAvL+WtmOWCqOWTgeeJjOS/oeaBrwogICAgICBzcHVJbWFnZUxpc3Q6IFtdLCAvL+WtmOWCqFNQVeWbvueJh+eahOaVsOaNrgogICAgICBzYWxlQXR0ckxpc3Q6IFtdLCAvL+mUgOWUruWxnuaAp+eahOaVsOaNru+8iOmhueebruWFqOmDqOeahOmUgOWUruWxnuaAp++8iQogICAgICBhdHRySWRBbmRBdHRyTmFtZTogIiIsIC8v5pS26ZuG5pyq6YCJ5oup55qE6ZSA5ZSu5bGe5oCn55qEaWTlkoxuYW1lLS0tLS0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+eFp+eJh+WimeWIoOmZpOafkOS4gOS4quWbvueJh+eahOaXtuWAmeS8muinpuWPkQogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIC8vZmlsZeWPguaVsDrku6PooajnmoTmmK/liKDpmaTnmoTpgqPlvKDlm77niYcKICAgICAgLy9maWxlTGlzdDrnhafniYflopnliKDpmaTmn5DkuIDlvKDlm77niYfku6XlkI7vvIzliankvZnnmoTlhbbku5blm77niYcKICAgICAgLy8gY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QsMjIyMjIpOwogICAgICAvL+aUtumbhueFp+eJh+WimeWbvueJh+eahOaVsOaNrgogICAgICAvL+WvueS6juW3suacieeahOWbvueJh+OAkOeFp+eJh+WimeS4reaYvuekuueahOWbvueJh++8muaciW5hbWXjgIF1cmzlrZfmrrXnmoTjgJHvvIzlm6DkuLrnhafniYflopnmmL7npLrmlbDmja7liqHlv4XopoHmnInov5nkuKTkuKrlsZ7mgKcKICAgICAgLy/lr7nkuo7mnI3liqHlmajogIzoqIDvvIzkuI3pnIDopoFuYW1l44CBdXJs5a2X5q6177yM5bCG5p2l5a+55LqO5bey5pyJ55qE5Zu+54mH55qE5pWw5o2u5Zyo5o+Q5Lqk57uZ5pyN5Yqh5Zmo55qE5pe25YCZ77yM6ZyA6KaB5aSE55CG55qECiAgICAgIHRoaXMuc3B1SW1hZ2VMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgLy/nhafniYflopnlm77niYfpooTop4jnmoTlm57osIMKICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAgIC8v5bCG5Zu+54mH5Zyw5Z2A6LWL5YC857uZ6L+Z5Liq5bGe5oCnCiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgLy/lr7nor53moYbmmL7npLoKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvL+WIneWni+WMllNwdUZvcm3mlbDmja4KICAgIGFzeW5jIGluaXRTcHVEYXRhKHNwdSkgewogICAgICAvL+iOt+WPllNQVeS/oeaBr+eahOaVsOaNrgogICAgICBsZXQgc3B1UmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFTcHUoc3B1LmlkKTsKICAgICAgaWYgKHNwdVJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgIC8v5Zyo5L+u5pS5c3B155qE5pe25YCZLOmcgOimgeWQkeacjeWKoeWZqOWPkeivt+axgueahO+8jOaKiuacjeWKoeWZqOi/lOWbnueahOaVsOaNru+8iOWvueixoe+8ie+8jOi1i+WAvOe7mXNwdeWxnuaApwogICAgICAgIHRoaXMuc3B1ID0gc3B1UmVzdWx0LmRhdGE7CiAgICAgIH0KICAgICAgLy/ojrflj5blk4HniYznmoTkv6Hmga8KICAgICAgbGV0IHRyYWRlTWFya1Jlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5zcHUucmVxVHJhZGVNYXJrTGlzdCgpOwogICAgICBpZiAodHJhZGVNYXJrUmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy50cmFkZU1hcmtMaXN0ID0gdHJhZGVNYXJrUmVzdWx0LmRhdGE7CiAgICAgIH0KICAgICAgLy/ojrflj5ZzcHXlm77niYfnmoTmlbDmja4KICAgICAgbGV0IHNwdUltYWdlUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFTcHVJbWFnZUxpc3Qoc3B1LmlkKTsKICAgICAgaWYgKHNwdUltYWdlUmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgbGV0IGxpc3RBcnIgPSBzcHVJbWFnZVJlc3VsdC5kYXRhOwogICAgICAgIC8v55Sx5LqO54Wn54mH5aKZ5pi+56S65Zu+54mH55qE5pWw5o2u6ZyA6KaB5pWw57uE77yM5pWw57uE6YeM6Z2i55qE5YWD57Sg6ZyA6KaB5pyJbmFtZeS4jnVybOWtl+autQogICAgICAgIC8v6ZyA6KaB5oqK5pyN5Yqh5Zmo6L+U5Zue55qE5pWw5o2u6L+b6KGM5L+u5pS5CiAgICAgICAgbGlzdEFyci5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLmltZ05hbWU7CiAgICAgICAgICBpdGVtLnVybCA9IGl0ZW0uaW1nVXJsOwogICAgICAgIH0pOwogICAgICAgIC8v5oqK5pW055CG5aW955qE5pWw5o2u6LWL5YC857uZCiAgICAgICAgdGhpcy5zcHVJbWFnZUxpc3QgPSBsaXN0QXJyOwogICAgICB9CiAgICAgIC8v6I635Y+W5bmz5Y+w5YWo6YOo55qE6ZSA5ZSu5bGe5oCnCiAgICAgIGxldCBzYWxlUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFCYXNlU2FsZUF0dHJMaXN0KCk7CiAgICAgIGlmIChzYWxlUmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy5zYWxlQXR0ckxpc3QgPSBzYWxlUmVzdWx0LmRhdGE7CiAgICAgIH0KICAgIH0sCiAgICAvL+eFp+eJh+WimeWbvueJh+S4iuS8oOaIkOWKn+eahOWbnuiwgwogICAgaGFuZGxlclN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIC8v5pS26ZuG5Zu+54mH55qE5L+h5oGvCiAgICAgIHRoaXMuc3B1SW1hZ2VMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgLy/mt7vliqDmlrDnmoTplIDllK7lsZ7mgKcKICAgIGFkZFNhbGVBdHRyKCkgewogICAgICAvL+W3sue7j+aUtumbhumcgOimgea3u+WKoOeahOmUgOWUruWxnuaAp+eahOS/oeaBrwogICAgICAvL+aKiuaUtumbhuWIsOeahOmUgOWUruWxnuaAp+aVsOaNrui/m+ihjOWIhuWJsgogICAgICBjb25zdCBbYmFzZVNhbGVBdHRySWQsIHNhbGVBdHRyTmFtZV0gPSB0aGlzLmF0dHJJZEFuZEF0dHJOYW1lLnNwbGl0KCI6Iik7CiAgICAgIC8v5ZCRU1BV5a+56LGh55qEc3B1U2FsZUF0dHJMaXN05bGe5oCn6YeM6Z2i5re75Yqg5paw55qE6ZSA5ZSu5bGe5oCnCiAgICAgIGxldCBuZXdTYWxlQXR0ciA9IHsKICAgICAgICBiYXNlU2FsZUF0dHJJZCwKICAgICAgICBzYWxlQXR0ck5hbWUsCiAgICAgICAgc3B1U2FsZUF0dHJWYWx1ZUxpc3Q6IFtdLAogICAgICB9OwogICAgICAvL+a3u+WKoOaWsOeahOmUgOWUruWxnuaApwogICAgICB0aGlzLnNwdS5zcHVTYWxlQXR0ckxpc3QucHVzaChuZXdTYWxlQXR0cik7CiAgICAgIC8v5riF56m65pWw5o2uCiAgICAgIHRoaXMuYXR0cklkQW5kQXR0ck5hbWUgPSAiIjsKICAgIH0sCiAgICAvL+a3u+WKoOaMiemSrueahOWbnuiwgwogICAgYWRkU2FsZUF0dHJWYWx1ZShyb3cpIHsKICAgICAgLy/ngrnlh7vplIDllK7lsZ7mgKflgLzlvZPkuK3mt7vliqDmjInpkq7nmoTml7blgJnvvIzpnIDopoHnlLFidXR0b27lj5jkuLppbnB1dCzpgJrov4flvZPliY3plIDllK7lsZ7mgKfnmoRpbnB1dFZpc2libGXmjqfliLYKICAgICAgLy/mjILovb3lnKjplIDllK7lsZ7mgKfouqvkuIrnmoTlk43lupTlvI/mlbDmja5pbnB1dFZpc2libGXvvIzmjqfliLZidXR0b27kuI5pbnB1dOWIh+aNogogICAgICB0aGlzLiRzZXQocm93LCAiaW5wdXRWaXNpYmxlIiwgdHJ1ZSk7CiAgICAgIC8v6YCa6L+H5ZON5bqU5byP5pWw5o2uaW5wdXRWYWx1ZeWtl+auteaUtumbhuaWsOWinueahOmUgOWUruWxnuaAp+WAvAogICAgICB0aGlzLiRzZXQocm93LCAiaW5wdXRWYWx1ZSIsICIiKTsKICAgIH0sCiAgICAvL2VsLWlucHV05aSx5Y2054Sm54K555qE5LqL5Lu2CiAgICBoYW5kbGVJbnB1dENvbmZpcm0ocm93KSB7CiAgICAgIC8v6Kej5p6E5Ye66ZSA5ZSu5bGe5oCn5b2T5Lit5pS26ZuG5pWw5o2uCiAgICAgIGNvbnN0IHsgYmFzZVNhbGVBdHRySWQsIGlucHV0VmFsdWUgfSA9IHJvdzsKICAgICAgLy/mlrDlop7nmoTplIDllK7lsZ7mgKflgLznmoTlkI3np7DkuI3og73kuLrnqboKICAgICAgaWYgKGlucHV0VmFsdWUudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgi5bGe5oCn5YC85LiN6IO95Li656m6Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8v5bGe5oCn5YC85LiN6IO96YeN5aSNLOi/memHjOS5n+WPr+S7peeUqHNvbWUKICAgICAgbGV0IHJlc3VsdCA9IHJvdy5zcHVTYWxlQXR0clZhbHVlTGlzdC5ldmVyeSgKICAgICAgICAoaXRlbSkgPT4gaXRlbS5zYWxlQXR0clZhbHVlTmFtZSAhPSBpbnB1dFZhbHVlCiAgICAgICAgLy/msqHph43lpI3nmoTkuLrnnJ/vvIzph43lpI3kuobnmoTkuLpmYWxzZQogICAgICAgIC8vZXZlcnkg5Y+q6KaB5pyJ5LiA6aG55Li6ZmFsc2XvvIzlsLHkuLpmYWxzZe+8iOi/memHjOS5n+WwseaYr++8muWPquimgeaciemHjeWkjeS6hueahO+8jOWwsei/lOWbnmZhbHNl77yJCiAgICAgICk7CiAgICAgIC8v6YeN5aSN5LqG55qE5oOF5Ya177ya6Z2eZmFsc2XkuLp0cnVl77yM5bCx55u05o6lcmV0dXJuIOS4jeaJp+ihjOS6hgogICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuOwogICAgICAvL+aWsOWinueahOmUgOWUruWxnuaAp+WAvAogICAgICBsZXQgbmV3U2FsZUF0dHJWYWx1ZSA9IHsgYmFzZVNhbGVBdHRySWQsIHNhbGVBdHRyVmFsdWVOYW1lOiBpbnB1dFZhbHVlIH07CiAgICAgIC8v5paw5aKeCiAgICAgIHJvdy5zcHVTYWxlQXR0clZhbHVlTGlzdC5wdXNoKG5ld1NhbGVBdHRyVmFsdWUpOwogICAgICAvL+S/ruaUuWlucHV0VmlzaWJsZeS4umZhbHNl77yM5bCx5pi+56S6YnV0dG9uCiAgICAgIHJvdy5pbnB1dFZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvL+S/neWtmOaMiemSrueahOWbnuiwgwogICAgYXN5bmMgYWRkT3JVcGRhdGVTcHUoKSB7CiAgICAgIC8v5pW055CG5Y+C5pWw77ya6ZyA6KaB5pW055CG54Wn54mH5aKZ55qE5pWw5o2uCiAgICAgIC8v5pC65bim5Y+C5pWw77ya5a+55LqO5Zu+54mH77yM6ZyA6KaB5pC65bimaW1hZ2VOYW1l5LiOaW1hZ2VVcmzlrZfmrrUKICAgICAgLy9tYXAg5pig5bCE5bey5pyJ55qE5pWw5o2u77yMcmV0dXJu5Ye65p2l55qE57uT5p6c6LWL5YC857uZ5paw55qE5pWw57uECiAgICAgIHRoaXMuc3B1LnNwdUltYWdlTGlzdCA9IHRoaXMuc3B1SW1hZ2VMaXN0Lm1hcCgoaXRlbSkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpbWdOYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICBpbWdVcmw6IChpdGVtLnJlc3BvbnNlICYmIGl0ZW0ucmVzcG9uc2UuZGF0YSkgfHwgaXRlbS51cmwsCiAgICAgICAgICAvLyBpbWdVcmw6IGl0ZW0uaW1nVXJsPyBpdGVtLmltZ1VybDogaXRlbS5yZXNwb25zZS5kYXRhLAogICAgICAgIH07CiAgICAgIH0pOwogICAgICAvL+WPkeivt+axggogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFBZGRPclVwZGF0ZVNwdSh0aGlzLnNwdSk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAvL+aPkOekugogICAgICAgIHRoaXMuJG1lc3NhZ2UoeyB0eXBlOiAic3VjY2VzcyIsIG1lc3NhZ2U6ICLkv53lrZjmiJDlip8iIH0pOwogICAgICAgIC8v6YCa55+l54i257uE5Lu25Zue5Yiw5Zy65pmvMAogICAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVNjZW5lIiwgewogICAgICAgICAgc2NlbmU6IDAsCiAgICAgICAgICBmbGFnOiB0aGlzLnNwdS5pZCA/ICLkv67mlLkiIDogIua3u+WKoCIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy/muIXpmaTmlbDmja4KICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLCB0aGlzLiRvcHRpb25zLmRhdGEoKSk7CiAgICB9LAogICAgLy/ngrnlh7vmt7vliqBTUFXmjInpkq7nmoTml7blgJnvvIzlj5Hor7fmsYLnmoTlh73mlbAKICAgIGFzeW5jIGFkZFNwdURhdGEoY2F0ZWdvcnkzSWQpIHsKICAgICAgLy/mt7vliqBTUFXnmoTml7blgJnmlLbpm4bkuInnuqfliIbnsbvnmoRpZAogICAgICB0aGlzLnNwdS5jYXRlZ29yeTNJZCA9IGNhdGVnb3J5M0lkOwogICAgICAvL+iOt+WPluWTgeeJjOeahOS/oeaBrwogICAgICBsZXQgdHJhZGVNYXJrUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFUcmFkZU1hcmtMaXN0KCk7CiAgICAgIGlmICh0cmFkZU1hcmtSZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLnRyYWRlTWFya0xpc3QgPSB0cmFkZU1hcmtSZXN1bHQuZGF0YTsKICAgICAgfQogICAgICAvL+iOt+WPluW5s+WPsOWFqOmDqOeahOmUgOWUruWxnuaApwogICAgICBsZXQgc2FsZVJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5zcHUucmVxQmFzZVNhbGVBdHRyTGlzdCgpOwogICAgICBpZiAoc2FsZVJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgIHRoaXMuc2FsZUF0dHJMaXN0ID0gc2FsZVJlc3VsdC5kYXRhOwogICAgICB9CiAgICB9LAogICAgLy/lj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgLy/lj5bmtojmjInpkq7nmoTlm57osIPvvIzpgJrnn6XniLbkurLliIfmjaLlnLrmma/kuLowCiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVNjZW5lIiwgeyBzY2VuZTogMCwgZmxhZzogIiIgfSk7CiAgICAgIC8v5riF55CG5pWw5o2uCiAgICAgIC8vT2JqZWN0LmFzc2lnbjplczbkuK3mlrDlop7nmoTmlrnms5Xlj6/ku6XlkIjlubblr7nosaEKICAgICAgLy/nu4Tku7blrp7kvot0aGlzLl9kYXRhLOWPr+S7peaTjeS9nGRhdGHlvZPkuK3lk43lupTlvI/mlbDmja4KICAgICAgLy90aGlzLiRvcHRpb25z5Y+v5Lul6I635Y+W6YWN572u5a+56LGh77yM6YWN572u5a+56LGh55qEZGF0YeWHveaVsOaJp+ihjO+8jOi/lOWbnueahOWTjeW6lOW8j+aVsOaNruS4uuepuueahAogICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIHRoaXMuJG9wdGlvbnMuZGF0YSgpKTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLy/orqHnrpflh7rov5jmnKrpgInmi6nnmoTplIDllK7lsZ7mgKcKICAgIHVuU2VsZWN0U2FsZUF0dHIoKSB7CiAgICAgIC8v5pW05Liq5bmz5Y+w55qE6ZSA5ZSu5bGe5oCn5LiA5YWx5LiJ5Liq77ya5bC65a+444CB6aKc6Imy44CB54mI5pysIC0tLS1zYWxlQXR0ckxpc3QKICAgICAgLy/lvZPliY1TUFXmi6XmnInnmoTlsZ7kuo7oh6rlt7HnmoTplIDllK7lsZ7mgKdzcHUuc3B1U2FsZUF0dHJMaXN0ICAtLS0t6aKc6ImyCiAgICAgIC8v5pWw57uE55qE6L+H5ruk5pa55rOV77yM5Y+v5Lul5LuO5bey5pyJ55qE5pWw57uE5b2T5Lit6L+H5ruk5Ye655So5oi36ZyA6KaB55qE5YWD57Sg77yM5bm25pyq6L+U5Zue5LiA5Liq5paw55qE5pWw5o2uCiAgICAgIGxldCByZXN1bHQgPSB0aGlzLnNhbGVBdHRyTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHsKICAgICAgICAvL2V2ZXJ55pWw57uE55qE5pa55rOV77yM5Lya6L+U5Zue5LiA5Liq5biD5bCU5YC844CQ55yf77yM5YGH55qE44CRCiAgICAgICAgcmV0dXJuIHRoaXMuc3B1LnNwdVNhbGVBdHRyTGlzdC5ldmVyeSgoaXRlbTEpID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgIT0gaXRlbTEuc2FsZUF0dHJOYW1lOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Spu/SpuForm","sourcesContent":["<template>\n  <div>\n    <el-form ref=\"form\" label-width=\"80px\" :model=\"spu\">\n      <el-form-item label=\"SPU名称\">\n        <el-input placeholder=\"SPU名称\" v-model=\"spu.spuName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"品牌\">\n        <el-select placeholder=\"请选择品牌\" v-model=\"spu.tmId\">\n          <el-option\n            :label=\"tm.tmName\"\n            :value=\"tm.id\"\n            v-for=\"(tm, index) in tradeMarkList\"\n            :key=\"tm.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"SPU描述\">\n        <el-input\n          type=\"textarea\"\n          rows=\"4\"\n          placeholder=\"描述\"\n          v-model=\"spu.description\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"SPU图片\">\n        <!-- 上传图片：action图片上传的地址  list-type: 文件列表的类型 on-preview:图片预览的时候会触发  on-remove:当删除图片的时候会触发 \n         file-list：照片墙需要展示的数据【数组：数组里面的元素务必要有name、url属性】（预览展示）\n         on-preview：图片预览功能\n         on-remove:删除图片的时候会触发\n         on-success：文件上传成功的钩子\n        -->\n        <el-upload\n          action=\"/dev-api/admin/product/fileUpload\"\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :on-success=\"handlerSuccess\"\n          :file-list=\"spuImageList\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n        </el-dialog>\n      </el-form-item>\n      <el-form-item label=\"销售属性\">\n        <el-select\n          :placeholder=\"`还有${unSelectSaleAttr.length}未选择`\"\n          v-model=\"attrIdAndAttrName\"\n        >\n          <el-option\n            :label=\"unselect.name\"\n            :value=\"`${unselect.id}:${unselect.name}`\"\n            v-for=\"(unselect, index) in unSelectSaleAttr\"\n            :key=\"unselect.id\"\n          ></el-option>\n        </el-select>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          :disabled=\"!attrIdAndAttrName\"\n          @click=\"addSaleAttr\"\n          >添加销售属性</el-button\n        >\n        <!-- 展示的是当前SPU属于自己的销售属性 -->\n        <el-table style=\"width: 100%\" border :data=\"spu.spuSaleAttrList\">\n          <el-table-column\n            type=\"index\"\n            label=\"序号\"\n            width=\"80px\"\n            align=\"center\"\n          >\n          </el-table-column>\n          <el-table-column prop=\"saleAttrName\" label=\"属性名\" width=\"width\">\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"属性值名称列表\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <!--  \" -->\n              <!-- el-tag:用户展示已有属性值列表的数据的 -->\n              <el-tag\n                :key=\"tag.id\"\n                v-for=\"(tag, index) in row.spuSaleAttrValueList\"\n                closable\n                :disable-transitions=\"false\"\n                @close=\"row.spuSaleAttrValueList.splice(index, 1)\"\n                >{{ tag.saleAttrValueName }}</el-tag\n              >\n              <!-- 底下的结构可以当成咱们当年的span与input切换 -->\n              <!--  @keyup.enter.native=\"handleInputConfirm\"  -->\n              <el-input\n                class=\"input-new-tag\"\n                v-if=\"row.inputVisible\"\n                v-model=\"row.inputValue\"\n                ref=\"saveTagInput\"\n                size=\"small\"\n                @blur=\"handleInputConfirm(row)\"\n              >\n              </el-input>\n              <!-- @click=\"showInput\" -->\n              <el-button\n                v-else\n                class=\"button-new-tag\"\n                size=\"small\"\n                @click=\"addSaleAttrValue(row)\"\n                >添加</el-button\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                @click=\"spu.spuSaleAttrList.splice($index, 1)\"\n              ></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"addOrUpdateSpu\">保存</el-button>\n        <el-button @click=\"cancel\">取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SpuForm\",\n  data() {\n    return {\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n\n      //spu属性初始化的时候是一个空的对象,在修改SPU的时候，会向服务器发请求，返回SPU信息（对象），在修改的时候可以利用服务器返回的这个对象收集最新的数据提交给服务器\n      //添加SPU：如果是添加SPU的时候，并没有向服务器发请求，数据收集到哪里？[SPU]，收集数据的时候有哪些字段呢？看文档\n      spu: {\n        //三级分类的id\n        category3Id: 0,\n        //描述\n        description: \"\",\n        //spu名称\n        spuName: \"\",\n        //品牌的id\n        tmId: \"\",\n        //收集SPU图片的信息\n        spuImageList: [\n          // {\n          //   id: 0,\n          //   imgName: \"string\",\n          //   imgUrl: \"string\",\n          //   spuId: 0,\n          // },\n        ],\n        //平台销售属性与属性值收集\n        spuSaleAttrList: [\n          // {\n          //   baseSaleAttrId: 0,\n          //   id: 0,\n          //   saleAttrName: \"string\",\n          //   spuId: 0,\n          //   spuSaleAttrValueList: [\n          //     {\n          //       baseSaleAttrId: 0,\n          //       id: 0,\n          //       isChecked: \"string\",\n          //       saleAttrName: \"string\",\n          //       saleAttrValueName: \"string\",\n          //       spuId: 0,\n          //     },\n          //   ],\n          // },\n        ],\n      },\n      tradeMarkList: [], //存储品牌信息\n      spuImageList: [], //存储SPU图片的数据\n      saleAttrList: [], //销售属性的数据（项目全部的销售属性）\n      attrIdAndAttrName: \"\", //收集未选择的销售属性的id和name-----\n    };\n  },\n  methods: {\n    //照片墙删除某一个图片的时候会触发\n    handleRemove(file, fileList) {\n      //file参数:代表的是删除的那张图片\n      //fileList:照片墙删除某一张图片以后，剩余的其他图片\n      // console.log(file, fileList,22222);\n      //收集照片墙图片的数据\n      //对于已有的图片【照片墙中显示的图片：有name、url字段的】，因为照片墙显示数据务必要有这两个属性\n      //对于服务器而言，不需要name、url字段，将来对于已有的图片的数据在提交给服务器的时候，需要处理的\n      this.spuImageList = fileList;\n    },\n    //照片墙图片预览的回调\n    handlePictureCardPreview(file) {\n      //将图片地址赋值给这个属性\n      this.dialogImageUrl = file.url;\n      //对话框显示\n      this.dialogVisible = true;\n    },\n    //初始化SpuForm数据\n    async initSpuData(spu) {\n      //获取SPU信息的数据\n      let spuResult = await this.$API.spu.reqSpu(spu.id);\n      if (spuResult.code == 200) {\n        //在修改spu的时候,需要向服务器发请求的，把服务器返回的数据（对象），赋值给spu属性\n        this.spu = spuResult.data;\n      }\n      //获取品牌的信息\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\n      if (tradeMarkResult.code == 200) {\n        this.tradeMarkList = tradeMarkResult.data;\n      }\n      //获取spu图片的数据\n      let spuImageResult = await this.$API.spu.reqSpuImageList(spu.id);\n      if (spuImageResult.code == 200) {\n        let listArr = spuImageResult.data;\n        //由于照片墙显示图片的数据需要数组，数组里面的元素需要有name与url字段\n        //需要把服务器返回的数据进行修改\n        listArr.forEach((item) => {\n          item.name = item.imgName;\n          item.url = item.imgUrl;\n        });\n        //把整理好的数据赋值给\n        this.spuImageList = listArr;\n      }\n      //获取平台全部的销售属性\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\n      if (saleResult.code == 200) {\n        this.saleAttrList = saleResult.data;\n      }\n    },\n    //照片墙图片上传成功的回调\n    handlerSuccess(response, file, fileList) {\n      //收集图片的信息\n      this.spuImageList = fileList;\n    },\n    //添加新的销售属性\n    addSaleAttr() {\n      //已经收集需要添加的销售属性的信息\n      //把收集到的销售属性数据进行分割\n      const [baseSaleAttrId, saleAttrName] = this.attrIdAndAttrName.split(\":\");\n      //向SPU对象的spuSaleAttrList属性里面添加新的销售属性\n      let newSaleAttr = {\n        baseSaleAttrId,\n        saleAttrName,\n        spuSaleAttrValueList: [],\n      };\n      //添加新的销售属性\n      this.spu.spuSaleAttrList.push(newSaleAttr);\n      //清空数据\n      this.attrIdAndAttrName = \"\";\n    },\n    //添加按钮的回调\n    addSaleAttrValue(row) {\n      //点击销售属性值当中添加按钮的时候，需要由button变为input,通过当前销售属性的inputVisible控制\n      //挂载在销售属性身上的响应式数据inputVisible，控制button与input切换\n      this.$set(row, \"inputVisible\", true);\n      //通过响应式数据inputValue字段收集新增的销售属性值\n      this.$set(row, \"inputValue\", \"\");\n    },\n    //el-input失却焦点的事件\n    handleInputConfirm(row) {\n      //解构出销售属性当中收集数据\n      const { baseSaleAttrId, inputValue } = row;\n      //新增的销售属性值的名称不能为空\n      if (inputValue.trim() == \"\") {\n        this.$message(\"属性值不能为空\");\n        return;\n      }\n      //属性值不能重复,这里也可以用some\n      let result = row.spuSaleAttrValueList.every(\n        (item) => item.saleAttrValueName != inputValue\n        //没重复的为真，重复了的为false\n        //every 只要有一项为false，就为false（这里也就是：只要有重复了的，就返回false）\n      );\n      //重复了的情况：非false为true，就直接return 不执行了\n      if (!result) return;\n      //新增的销售属性值\n      let newSaleAttrValue = { baseSaleAttrId, saleAttrValueName: inputValue };\n      //新增\n      row.spuSaleAttrValueList.push(newSaleAttrValue);\n      //修改inputVisible为false，就显示button\n      row.inputVisible = false;\n    },\n    //保存按钮的回调\n    async addOrUpdateSpu() {\n      //整理参数：需要整理照片墙的数据\n      //携带参数：对于图片，需要携带imageName与imageUrl字段\n      //map 映射已有的数据，return出来的结果赋值给新的数组\n      this.spu.spuImageList = this.spuImageList.map((item) => {\n        return {\n          imgName: item.name,\n          imgUrl: (item.response && item.response.data) || item.url,\n          // imgUrl: item.imgUrl? item.imgUrl: item.response.data,\n        };\n      });\n      //发请求\n      let result = await this.$API.spu.reqAddOrUpdateSpu(this.spu);\n      if (result.code == 200) {\n        //提示\n        this.$message({ type: \"success\", message: \"保存成功\" });\n        //通知父组件回到场景0\n        this.$emit(\"changeScene\", {\n          scene: 0,\n          flag: this.spu.id ? \"修改\" : \"添加\",\n        });\n      }\n      //清除数据\n      Object.assign(this._data, this.$options.data());\n    },\n    //点击添加SPU按钮的时候，发请求的函数\n    async addSpuData(category3Id) {\n      //添加SPU的时候收集三级分类的id\n      this.spu.category3Id = category3Id;\n      //获取品牌的信息\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\n      if (tradeMarkResult.code == 200) {\n        this.tradeMarkList = tradeMarkResult.data;\n      }\n      //获取平台全部的销售属性\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\n      if (saleResult.code == 200) {\n        this.saleAttrList = saleResult.data;\n      }\n    },\n    //取消按钮\n    cancel() {\n      //取消按钮的回调，通知父亲切换场景为0\n      this.$emit(\"changeScene\", { scene: 0, flag: \"\" });\n      //清理数据\n      //Object.assign:es6中新增的方法可以合并对象\n      //组件实例this._data,可以操作data当中响应式数据\n      //this.$options可以获取配置对象，配置对象的data函数执行，返回的响应式数据为空的\n      Object.assign(this._data, this.$options.data());\n    },\n  },\n  computed: {\n    //计算出还未选择的销售属性\n    unSelectSaleAttr() {\n      //整个平台的销售属性一共三个：尺寸、颜色、版本 ----saleAttrList\n      //当前SPU拥有的属于自己的销售属性spu.spuSaleAttrList  ----颜色\n      //数组的过滤方法，可以从已有的数组当中过滤出用户需要的元素，并未返回一个新的数据\n      let result = this.saleAttrList.filter((item) => {\n        //every数组的方法，会返回一个布尔值【真，假的】\n        return this.spu.spuSaleAttrList.every((item1) => {\n          return item.name != item1.saleAttrName;\n        });\n      });\n      return result;\n    },\n  },\n};\n</script>\n\n<style>\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n"]}]}