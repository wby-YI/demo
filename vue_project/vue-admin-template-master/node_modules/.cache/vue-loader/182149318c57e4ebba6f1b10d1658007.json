{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\components\\CategorySelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\components\\CategorySelect\\index.vue","mtime":1652762289154},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2F0ZWdvcnlTZWxlY3QiLAogIHByb3BzOiBbInNob3ciXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/kuIDnuqfliIbnsbvnmoTmlbDmja4KICAgICAgbGlzdDE6IFtdLAogICAgICAvL+S6jOe6p+WIhuexu+eahOaVsOaNrgogICAgICBsaXN0MjogW10sCiAgICAgIC8v5LiJ57qn5YiG57G755qE5pWw5o2uCiAgICAgIGxpc3QzOiBbXSwKICAgICAgLy/mlLbpm4bnm7jlupTnmoTkuIDnuqfkuoznuqfkuInnuqfliIbnsbvnmoRpZAogICAgICBjRm9ybTogewogICAgICAgIGNhdGVnb3J5MUlkOiAiIiwKICAgICAgICBjYXRlZ29yeTJJZDogIiIsCiAgICAgICAgY2F0ZWdvcnkzSWQ6ICIiLAogICAgICB9LAogICAgfTsKICB9LAogIC8v57uE5Lu25oyC6L295a6M5q+V77ya5ZCR5pyN5Yqh5Zmo5Y+R6K+35rGC77yM6I635Y+W55u45bqU55qE5LiA57qn5YiG57G755qE5pWw5o2uCiAgbW91bnRlZCgpIHsKICAgIC8v6I635Y+W5LiA57qn5YiG57G755qE5pWw5o2u55qE5pa55rOVCiAgICB0aGlzLmdldENhdGVnb3J5MUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5LiA57qn5YiG57G75pWw5o2u55qE5pa55rOVCiAgICBhc3luYyBnZXRDYXRlZ29yeTFMaXN0KCkgewogICAgICAvL+iOt+WPluS4gOe6p+WIhuexu+eahOivt+axgu+8muS4jemcgOimgeaQuuW4puWPguaVsAogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLmF0dHIucmVxQ2F0ZWdvcnkxTGlzdCgpOwogICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy5saXN0MSA9IHJlc3VsdC5kYXRhOwogICAgICB9CiAgICB9LAogICAgLy/kuIDnuqfliIbnsbvnmoRzZWxlY3Tkuovku7blm57osIPvvIjlvZPkuIDnuqfliIbnsbvnmoRvcHRpb27lj5HnlJ/lj5jljJbnmoTml7blgJnojrflj5bnm7jlupTkuoznuqfliIbnsbvnmoTmlbDmja7vvIkKICAgIGFzeW5jIGhhbmRsZXIxKCkgewogICAgICAvL+a4hemZpOaVsOaNrgogICAgICB0aGlzLmxpc3QyID0gW107CiAgICAgIHRoaXMubGlzdDMgPSBbXTsKICAgICAgdGhpcy5jRm9ybS5jYXRlZ29yeTJJZCA9ICIiOwogICAgICB0aGlzLmNGb3JtLmNhdGVnb3J5M0lkID0gIiI7CiAgICAgIC8v6Kej5p6E5Ye65LiA57qn5YiG57G755qEaWQKICAgICAgY29uc3QgeyBjYXRlZ29yeTFJZCB9ID0gdGhpcy5jRm9ybTsKICAgICAgdGhpcy4kZW1pdCgiZ2V0Q2F0ZWdvcnlJZCIsIHsgY2F0ZWdvcnlJZDogY2F0ZWdvcnkxSWQsIGxldmVsOiAxIH0pOwogICAgICAvL+mAmui/h+S4gOe6p+WIhuexu+eahGlk77yM6I635Y+W5LqM57qn5YiG57G755qE5pWw5o2uCiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkuYXR0ci5yZXFDYXRlZ29yeTJMaXN0KGNhdGVnb3J5MUlkKTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgIHRoaXMubGlzdDIgPSByZXN1bHQuZGF0YTsKICAgICAgfQogICAgfSwKICAgIC8v5LqM57qn5YiG57G755qEc2VsZWN05LqL5Lu25Zue6LCD77yI5b2T5LqM57qn5YiG57G755qEb3B0aW9u5Y+R55Sf5Y+Y5YyW55qE5pe25YCZ6I635Y+W55u45bqU5LiJ57qn5YiG57G755qE5pWw5o2u77yJCiAgICBhc3luYyBoYW5kbGVyMigpIHsKICAgICAgLy/muIXpmaTmlbDmja4KICAgICAgdGhpcy5saXN0MyA9IFtdOwogICAgICB0aGlzLmNGb3JtLmNhdGVnb3J5M0lkID0gIiI7CiAgICAgIC8v57uT5p6E5Ye65pWw5o2uCiAgICAgIGNvbnN0IHsgY2F0ZWdvcnkySWQgfSA9IHRoaXMuY0Zvcm07CiAgICAgIHRoaXMuJGVtaXQoImdldENhdGVnb3J5SWQiLCB7IGNhdGVnb3J5SWQ6IGNhdGVnb3J5MklkLCBsZXZlbDogMiB9KTsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5hdHRyLnJlcUNhdGVnb3J5M0xpc3QoY2F0ZWdvcnkySWQpOwogICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy5saXN0MyA9IHJlc3VsdC5kYXRhOwogICAgICB9CiAgICB9LAogICAgLy/kuInnuqfliIbnsbvnmoTkuovku7blm57osIMKICAgIGhhbmRsZXIzKCkgewogICAgICAvL+iOt+WPluS4iee6p+WIhuexu+eahGlkCiAgICAgIGNvbnN0IHsgY2F0ZWdvcnkzSWQgfSA9IHRoaXMuY0Zvcm07CiAgICAgIHRoaXMuJGVtaXQoImdldENhdGVnb3J5SWQiLCB7IGNhdGVnb3J5SWQ6IGNhdGVnb3J5M0lkLCBsZXZlbDogMyB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/CategorySelect","sourcesContent":["<template>\n  <div>\n    <!-- inline:代表的是行内表单，代表一行可以放置多个表单元素 -->\n    <el-form :inline=\"true\" class=\"demo-form-inline\" :model=\"cForm\">\n      <el-form-item label=\"一级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category1Id\"\n          @change=\"handler1\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c1.name\"\n            :value=\"c1.id\"\n            v-for=\"(c1, index) in list1\"\n            :key=\"c1.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"二级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category2Id\"\n          @change=\"handler2\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c2.name\"\n            :value=\"c2.id\"\n            v-for=\"(c2, index) in list2\"\n            :key=\"c2.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"三级分类\">\n        <el-select\n          placeholder=\"请选择\"\n          v-model=\"cForm.category3Id\"\n          @change=\"handler3\"\n          :disabled=\"show\"\n        >\n          <el-option\n            :label=\"c3.name\"\n            :value=\"c3.id\"\n            v-for=\"(c3, index) in list3\"\n            :key=\"c3.id\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CategorySelect\",\n  props: [\"show\"],\n  data() {\n    return {\n      //一级分类的数据\n      list1: [],\n      //二级分类的数据\n      list2: [],\n      //三级分类的数据\n      list3: [],\n      //收集相应的一级二级三级分类的id\n      cForm: {\n        category1Id: \"\",\n        category2Id: \"\",\n        category3Id: \"\",\n      },\n    };\n  },\n  //组件挂载完毕：向服务器发请求，获取相应的一级分类的数据\n  mounted() {\n    //获取一级分类的数据的方法\n    this.getCategory1List();\n  },\n  methods: {\n    //获取一级分类数据的方法\n    async getCategory1List() {\n      //获取一级分类的请求：不需要携带参数\n      let result = await this.$API.attr.reqCategory1List();\n      // console.log(result);\n      if (result.code == 200) {\n        this.list1 = result.data;\n      }\n    },\n    //一级分类的select事件回调（当一级分类的option发生变化的时候获取相应二级分类的数据）\n    async handler1() {\n      //清除数据\n      this.list2 = [];\n      this.list3 = [];\n      this.cForm.category2Id = \"\";\n      this.cForm.category3Id = \"\";\n      //解构出一级分类的id\n      const { category1Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category1Id, level: 1 });\n      //通过一级分类的id，获取二级分类的数据\n      let result = await this.$API.attr.reqCategory2List(category1Id);\n      // console.log(result);\n      if (result.code == 200) {\n        this.list2 = result.data;\n      }\n    },\n    //二级分类的select事件回调（当二级分类的option发生变化的时候获取相应三级分类的数据）\n    async handler2() {\n      //清除数据\n      this.list3 = [];\n      this.cForm.category3Id = \"\";\n      //结构出数据\n      const { category2Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category2Id, level: 2 });\n      let result = await this.$API.attr.reqCategory3List(category2Id);\n      // console.log(result);\n      if (result.code == 200) {\n        this.list3 = result.data;\n      }\n    },\n    //三级分类的事件回调\n    handler3() {\n      //获取三级分类的id\n      const { category3Id } = this.cForm;\n      this.$emit(\"getCategoryId\", { categoryId: category3Id, level: 3 });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}