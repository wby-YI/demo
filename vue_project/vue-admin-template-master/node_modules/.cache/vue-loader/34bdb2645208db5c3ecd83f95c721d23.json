{"remainingRequest":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Attr\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\src\\views\\product\\Attr\\index.vue","mtime":1652800575985},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1652600964560},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652600907899},{"path":"C:\\Users\\xiao\\Desktop\\vue_project\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1652600973833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5oyJ6ZyA5byV5YWlbG9kYXNo5b2T5Lit55qE5rex5ou36LSdCmltcG9ydCBjbG9uZURlZXAgZnJvbSAibG9kYXNoL2Nsb25lRGVlcCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXR0ciIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5MUlkOiAiIiwKICAgICAgY2F0ZWdvcnkySWQ6ICIiLAogICAgICBjYXRlZ29yeTNJZDogIiIsCiAgICAgIC8v5o6l5Y+X5bmz5Y+w5bGe5oCn55qE5pWw5o2uCiAgICAgIGF0dHJMaXN0OiBbXSwKICAgICAgLy/ov5nkuKrlsZ7mgKfmjqfliLZ0YWJsZeihqOagvOaYvuekuuS4jumakOiXj+eahAogICAgICBpc1Nob3dUYWJsZTogdHJ1ZSwKICAgICAgLy/mlLbpm4bmlrDlop7lsZ7mgKd85L+u5pS55bGe5oCn5L2/55So55qECiAgICAgIGF0dHJJbmZvOiB7CiAgICAgICAgYXR0ck5hbWU6ICIiLCAvL+WxnuaAp+WQjQogICAgICAgIGF0dHJWYWx1ZUxpc3Q6IFsKICAgICAgICAgIC8v5bGe5oCn5YC877yM5Zug5Li65bGe5oCn5YC85Y+v5Lul5pyJ5aSa5Liq77yM5Zug5q2k55So5pWw57uE77yM5q+P5LiA5Liq5bGe5oCn5YC86YO95piv5LiA5Liq5a+56LGh77yM6ZyA6KaBYXR0cklk77yMdmFsdWVOYW1lCiAgICAgICAgLy8gIHsKICAgICAgICAvLyAgICAgYXR0cklkOiAwLCAgICAgICAgICAvL+ebuOW6lOeahOWxnuaAp+WQjeeahGlkCiAgICAgICAgLy8gICAgIHZhbHVlTmFtZTogIiIsICAvL+WxnuaAp+WAvAogICAgICAgIC8vICB9CiAgICAgICAgXSwKICAgICAgICBjYXRlZ29yeUlkOiAwLCAvL+S4iee6p+WIhuexu+eahGlkCiAgICAgICAgY2F0ZWdvcnlMZXZlbDogMywgLy/lm6DkuLrmnI3liqHlmajkuZ/pnIDopoHljLrliIblh6DnuqdpZAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6Ieq5a6a5LmJ5LqL5Lu255qE5Zue6LCDCiAgICBnZXRDYXRlZ29yeUlkKHsgY2F0ZWdvcnlJZCwgbGV2ZWwgfSkgewogICAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yeUlkKTsKICAgICAgLy/ljLrliIbkuInnuqfliIbnsbvnm7jlupTnmoRpZO+8jOS7peWPiueItue7hOS7tui/m+ihjOWtmOWCqAogICAgICBpZiAobGV2ZWwgPT0gMSkgewogICAgICAgIHRoaXMuY2F0ZWdvcnkxSWQgPSBjYXRlZ29yeUlkOwogICAgICAgIHRoaXMuY2F0ZWdvcnkySWQgPSAiIjsKICAgICAgICB0aGlzLmNhdGVnb3J5M0lkID0gIiI7CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gMikgewogICAgICAgIHRoaXMuY2F0ZWdvcnkySWQgPSBjYXRlZ29yeUlkOwogICAgICAgIHRoaXMuY2F0ZWdvcnkzSWQgPSAiIjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+S7o+ihqOS4iee6p+WIhuexu+eahGlk5pyJ5LqGCiAgICAgICAgdGhpcy5jYXRlZ29yeTNJZCA9IGNhdGVnb3J5SWQ7CiAgICAgICAgLy/lj5Hor7fmsYLojrflj5blubPlj7DnmoTlsZ7mgKfmlbDmja4KICAgICAgICB0aGlzLmdldEF0dHJMaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPluW5s+WPsOWxnuaAp+eahOaVsOaNrgogICAgLy/lvZPnlKjmiLfnoa7lrprkuInnuqfliIbnsbvnmoTmlbDmja7ml7blgJnvvIzlj6/ku6XlkJHmnI3liqHlmajlj5Hor7fmsYLojrflj5blubPlj7DlsZ7mgKfov5vooYzlsZXnpLoKICAgIGFzeW5jIGdldEF0dHJMaXN0KCkgewogICAgICAvL+iOt+WPluWIhuexu+eahElECiAgICAgIGNvbnN0IHsgY2F0ZWdvcnkxSWQsIGNhdGVnb3J5MklkLCBjYXRlZ29yeTNJZCB9ID0gdGhpczsKICAgICAgLy/ojrflj5blsZ7mgKfliJfooajnmoTmlbDmja4KICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJEFQSS5hdHRyLnJlcUF0dHJMaXN0KAogICAgICAgIGNhdGVnb3J5MUlkLAogICAgICAgIGNhdGVnb3J5MklkLAogICAgICAgIGNhdGVnb3J5M0lkCiAgICAgICk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLmF0dHJMaXN0ID0gcmVzdWx0LmRhdGE7CiAgICAgIH0KICAgIH0sCiAgICAvL+a3u+WKoOWxnuaAp+WAvOWbnuiwgwogICAgYWRkQXR0clZhbHVlKCkgewogICAgICAvL+WQkeWxnuaAp+WAvOeahOaVsOe7hOmHjOmdoua3u+WKoOWFg+e0oAogICAgICAvL2F0dHJJZO+8muaYr+S9oOebuOW6lOeahOWxnuaAp+eahGlk77yM55uu5YmN6ICM6KiA5oiR5Lus5piv5re75Yqg5bGe5oCn55qE5pON5L2c77yM6L+Y5rKh5pyJ55u45bqU55qE5bGe5oCn55qEaWTvvIznm67liY3ogIzoqIDluKbnu5nmnI3liqHlmajnmoRpZOS4unVuZGVmaW5lZAogICAgICAvL3ZhbHVlTmFtZTrnm7jlupTnmoTlsZ7mgKflgLznmoTlkI3np7AKICAgICAgdGhpcy5hdHRySW5mby5hdHRyVmFsdWVMaXN0LnB1c2goewogICAgICAgIGF0dHJJZDogdGhpcy5hdHRySW5mby5pZCwgLy/lr7nkuo7kv67mlLnmn5DkuIDkuKrlsZ7mgKfnmoTml7blgJnvvIzlj6/ku6XlnKjlt7LmnInnmoTlsZ7mgKflgLzln7rnoYDkuYvkuIrmlrDlop7mlrDnmoTlsZ7mgKflgLzvvIjmlrDlop7lsZ7mgKflgLznmoTml7blgJnvvIzpnIDopoHmiorlt7LmnInnmoTlsZ7mgKfnmoRpZOW4puS4iu+8iQogICAgICAgIHZhbHVlTmFtZTogIiIsCiAgICAgICAgZmxhZzogdHJ1ZSwKICAgICAgfSk7CiAgICAgIC8vZmxhZ+WxnuaAp++8mue7meavj+S4gOS4quWxnuaAp+WAvOa3u+WKoOS4gOS4quagh+iusGZsYWfvvIznlKjmiLfliIfmjaLmn6XnnIvmqKHlvI/kuI7nvJbovpHmqKHlvI/vvIzlpb3lpITvvIzmr4/kuIDkuKrlsZ7mgKflgLzlj6/ku6XmjqfliLboh6rlt7HnmoTmqKHlvI/liIfmjaIKICAgICAgLy/lvZPliY1mbGFn5bGe5oCn77yM5ZON5bqU5byP5pWw5o2u77yI5pWw5o2u5Y+Y5YyW6KeG5Zu+6Lef552A5Y+Y5YyW77yJCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzW3RoaXMuYXR0ckluZm8uYXR0clZhbHVlTGlzdC5sZW5ndGggLSAxXS5mb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+a3u+WKoOWxnuaAp+aMiemSrueahOWbnuiwgwogICAgYWRkQXR0cigpIHsKICAgICAgLy/liIfmjaJ0YWJsZeaYvuekuuS4jumakOiXjwogICAgICB0aGlzLmlzU2hvd1RhYmxlID0gZmFsc2U7CiAgICAgIC8v5riF6Zmk5pWw5o2uCiAgICAgIC8v5pS26ZuG5LiJ57qn5YiG57G755qEaWQKICAgICAgdGhpcy5hdHRySW5mbyA9IHsKICAgICAgICBhdHRyTmFtZTogIiIsIC8v5bGe5oCn5ZCNCiAgICAgICAgYXR0clZhbHVlTGlzdDogWwogICAgICAgICAgLy/lsZ7mgKflgLzvvIzlm6DkuLrlsZ7mgKflgLzlj6/ku6XmnInlpJrkuKrlm6DmraTnlKjmlbDnu4TvvIzmr4/kuIDkuKrlsZ7mgKflgLzpg73mmK/kuIDkuKrlr7nosaHpnIDopoFhdHRySWTvvIx2YWx1ZU5hbWUKICAgICAgICBdLAogICAgICAgIGNhdGVnb3J5SWQ6IHRoaXMuY2F0ZWdvcnkzSWQsIC8v5LiJ57qn5YiG57G755qEaWQKICAgICAgICBjYXRlZ29yeUxldmVsOiAzLCAvL+WboOS4uuacjeWKoeWZqOS5n+mcgOimgeWMuuWIhuWHoOe6p2lkCiAgICAgIH07CiAgICB9LAogICAgLy/kv67mlLnmn5DkuIDkuKrlsZ7mgKcKICAgIHVwZGF0ZUF0dHIocm93KSB7CiAgICAgIC8vaXNTaG93VGFibGXlj5jkuLpmYWxzZQogICAgICB0aGlzLmlzU2hvd1RhYmxlID0gZmFsc2U7CiAgICAgIC8v5bCG6YCJ5Lit55qE5bGe5oCn6LWL5YC857uZYXR0ckluZm8KICAgICAgLy/nlLHkuo7mlbDmja7nu5PmnoTlvZPkuK3lrZjlnKjlr7nosaHph4zpnaLlpZfmlbDnu4TvvIzmlbDnu4Tph4zpnaLlj4jlpZflr7nosaHvvIzlm6DmraTpnIDopoHkvb/nlKjmt7Hmi7fotJ3op6PlhrPov5nnsbvpl67popgKICAgICAgLy/mt7Hmi7fotJ3vvIzmtYXmi7fotJ3lnKjpnaLor5XnmoTml7blgJnlh7rnjrDpopHnjoflvojpq5jvvIzliIforrDovr7liLDmiYvlhpnmt7Hmi7fotJ3kuI7mtYXmi7fotJ0KICAgICAgdGhpcy5hdHRySW5mbyA9IGNsb25lRGVlcChyb3cpOwogICAgICAvL+WcqOS/ruaUueafkOS4gOS4quWxnuaAp+eahOaXtuWAme+8jOWwhuebuOW6lOeahOWxnuaAp+WAvOWFg+e0oOa3u+WKoOS4imZsYWfov5nkuKrmoIforrAKICAgICAgdGhpcy5hdHRySW5mby5hdHRyVmFsdWVMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAvL+i/meagt+S5puWGmeS5n+WPr+S7pee7meWxnuaAp+WAvOa3u+WKoGZsYWfoh6rliqjvvIzkvYbmmK/kvJrlj5HnjrDop4blm77kuI3kvJrot5/nnYDlj5jljJbvvIjlm6DkuLpmbGFn5LiN5piv5ZON5bqU5byP5pWw5o2u77yJCiAgICAgICAgLy/lm6DkuLpWdWXml6Dms5XmjqLmtYvmma7pgJrnmoTmlrDlop4gcHJvcGVydHks6L+Z5qC35Lmm5YaZ55qE5bGe5oCn5bm26Z2e5ZON5bqU5byP5bGe5oCn77yI5pWw5o2u5Y+Y5YyW6KeG5Zu+6Lef552A5Y+Y77yJCiAgICAgICAgLy/nrKzkuIDkuKrlj4LmlbA65a+56LGhICDnrKzkuozkuKrlj4LmlbA65re75Yqg5paw55qE5ZON5bqU5byP5bGe5oCnICDnrKzkuInlj4LmlbDvvJrmlrDnmoTlsZ7mgKfnmoTlsZ7mgKflgLwKICAgICAgICB0aGlzLiRzZXQoaXRlbSwgImZsYWciLCBmYWxzZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5aSx5Y6754Sm54K555qE5LqL5Lu2LS0t5YiH5o2i5Li65p+l55yL5qih5byP77yM5bGV56S6c3BhbgogICAgdG9Mb29rKHJvdykgewogICAgICAvLyDlpoLmnpzlsZ7mgKflgLzkuLrnqbrkuI3og73kvZzkuLrmlrDnmoTlsZ7mgKflgLzvvIzpnIDopoHnu5nnlKjmiLfmj5DnpLrvvIzorqnku5bovpPlhaXkuIDkuKrlhbbku5bnmoTlsZ7mgKflgLwKICAgICAgIGlmKHJvdy52YWx1ZU5hbWUudHJpbSgpPT0nJyl7CiAgICAgICAgIHRoaXMuJG1lc3NhZ2UoJ+ivt+S9oOi+k+WFpeS4gOS4quato+W4uOeahOWxnuaAp+WAvCcpOwogICAgICAgICByZXR1cm47CiAgICAgICB9CiAgICAgICAvL+aWsOWinueahOWxnuaAp+WAvOS4jeiDveS4juW3suacieeahOWxnuaAp+WAvOmHjeWkjQogICAgICBsZXQgaXNSZXBhdCAgPSB0aGlzLmF0dHJJbmZvLmF0dHJWYWx1ZUxpc3Quc29tZShpdGVtPT57CiAgICAgICAgICAvL+mcgOimgeWwhnJvd+S7juaVsOe7hOmHjOmdouWIpOaWreeahOaXtuWAmeWOu+mZpAogICAgICAgICAgLy9yb3fmnIDmlrDmlrDlop7nmoTlsZ7mgKflgLzjgJDmlbDnu4TnmoTmnIDlkI7kuIDpobnlhYPntKDjgJEKICAgICAgICAgIC8v5Yik5pat55qE5pe25YCZ77yM6ZyA6KaB5oqK5bey5pyJ55qE5pWw57uE5b2T5Lit5paw5aKe55qE6L+Z5Liq5bGe5oCn5YC85Y676ZmkCiAgICAgICAgICBpZihyb3chPT1pdGVtKXsKICAgICAgICAgICAgcmV0dXJuIHJvdy52YWx1ZU5hbWU9PWl0ZW0udmFsdWVOYW1lOwogICAgICAgICAgfQogICAgICAgfSk7CgogICAgICAgaWYoaXNSZXBhdCkgcmV0dXJuOwogICAgICAvLyByb3fvvJrlvaLlj4LmmK/lvZPliY3nlKjmiLfmt7vliqDnmoTmnIDmlrDnmoTlsZ7mgKflgLwKICAgICAgLy8g5b2T5YmN57yW6L6R5qih5byP5Y+Y5Li65p+l55yL5qih5byP44CQ6K6paW5wdXTmtojlpLHvvIzmmL7npLpzcGFu44CRCiAgICAgIHJvdy5mbGFnID0gZmFsc2U7CiAgICB9LAogICAgLy/ngrnlh7tzcGFu55qE5Zue6LCD77yM5Y+Y5Li657yW6L6R5qih5byPCiAgICB0b0VkaXQocm93LCBpbmRleCkgewogICAgICByb3cuZmxhZyA9IHRydWU7CiAgICAgIC8v6I635Y+WaW5wdXToioLngrnvvIzlrp7njrDoh6rliqjogZrnhKYKICAgICAgLy/pnIDopoHms6jmhI/vvJrngrnlh7tzcGFu55qE5pe25YCZ77yM5YiH5o2i5Li6aW5wdXTlj5jkuLrnvJbovpHmqKHlvI/vvIzkvYbmmK/pnIDopoHms6jmhI/vvIzlr7nkuo7mtY/op4jlmajogIzoqIDvvIzpobXpnaLph43nu5jkuI7ph43mjpLmmK/ogJfml7bpl7TnmoQKICAgICAgLy/ngrnlh7tzcGFu55qE5pe25YCZ77yM6YeN57uY6YeN5o6S5LiA5LiqaW5wdXTlroPmmK/pnIDopoHogJfotLnml7bpl7TnmoTvvIzlm6DmraTmiJHku6zkuI3lj6/og73kuIDngrnlh7tzcGFu56uL6ams6I635Y+W5YiwaW5wdXQKICAgICAgLy8kbmV4dFRpY2ss5b2T6IqC54K55riy5p+T5a6M5q+V5LqG77yM5Lya5omn6KGM5LiA5qyhCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvL+iOt+WPluebuOW6lOeahGlucHV06KGo5Y2V5YWD57Sg5a6e546w6IGa54SmCiAgICAgICAgdGhpcy4kcmVmc1tpbmRleF0uZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/msJTms6Hnoa7orqTmoYbnoa7lrprmjInpkq7nmoTlm57osIMKICAgIC8v5pyA5paw54mI5pys55qERWxlbWVudFVJLS0tLTIuMTUuNu+8jOebruWJjeaooeadv+S4reeahOeJiOacrOWPtzIuMTMuMiAg5L2/55So77yab25Db25maXJt77yM5LiN6IO955u05o6l5L2/55So77yaY29uZmlybQogICAgZGVsZXRlQXR0clZhbHVlKGluZGV4KXsKICAgICAgLy/lvZPliY3liKDpmaTlsZ7mgKflgLznmoTmk43kvZzmmK/kuI3pnIDopoHlj5Hor7fmsYLnmoQKICAgICAgIHRoaXMuYXR0ckluZm8uYXR0clZhbHVlTGlzdC5zcGxpY2UoaW5kZXgsMSk7CiAgICB9LAogICAgLy/kv53lrZjmjInpkq7vvJrov5vooYzmt7vliqDlsZ7mgKfmiJbogIXkv67mlLnlsZ7mgKfnmoTmk43kvZwKICAgIGFzeW5jIGFkZE9yVXBkYXRlQXR0cigpewogICAgICAvL+aVtOeQhuWPguaVsDoKICAgICAgLy8xLOWmguaenOeUqOaIt+a3u+WKoOW+iOWkmuWxnuaAp+WAvO+8jOS4lOWxnuaAp+WAvOS4uuepuueahOS4jeW6lOivpeaPkOS6pOe7meacjeWKoeWZqAogICAgICAvLzIu5o+Q5Lqk57uZ5pyN5Yqh5Zmo5pWw5o2u5b2T5Lit5LiN5bqU6K+l5Ye6546wZmxhZ+Wtl+autQogICAgICB0aGlzLmF0dHJJbmZvLmF0dHJWYWx1ZUxpc3QgPSB0aGlzLmF0dHJJbmZvLmF0dHJWYWx1ZUxpc3QuZmlsdGVyKGl0ZW09PnsKICAgICAgICAgIC8v6L+H5ruk5o6J5bGe5oCn5YC85LiN5piv56m655qECiAgICAgICAgICBpZihpdGVtLnZhbHVlTmFtZSE9JycpewogICAgICAgICAgICAvL+WIoOmZpOaOiWZsYWflsZ7mgKcKICAgICAgICAgICAgZGVsZXRlIGl0ZW0uZmxhZzsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRyeSB7CiAgICAgICAgIC8v5Y+R6K+35rGCCiAgICAgICAgYXdhaXQgdGhpcy4kQVBJLmF0dHIucmVxQWRkT3JVcGRhdGVBdHRyKHRoaXMuYXR0ckluZm8pOwogICAgICAgIC8v5bGV56S65bmz5Y+w5bGe5oCn55qE5L+h5Y+36YeP6L+b6KGM5YiH5o2iCiAgICAgICAgdGhpcy5pc1Nob3dUYWJsZSA9IHRydWU7CiAgICAgICAgLy/mj5DnpLrmtojlpLEKICAgICAgICB0aGlzLiRtZXNzYWdlKHt0eXBlOidzdWNjZXNzJyxtZXNzYWdlOifkv53lrZjmiJDlip8nfSk7CiAgICAgICAgLy/kv53lrZjmiJDlip/ku6XlkI7pnIDopoHlho3mrKHojrflj5blubPlj7DlsZ7mgKfov5vooYzlsZXnpLoKICAgICAgICB0aGlzLmdldEF0dHJMaXN0KCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZSgn5L+d5a2Y5aSx6LSlJykKICAgICAgfQoKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Attr","sourcesContent":["<template>\n  <div>\n    <el-card style=\"margin: 20px 0px\">\n      <CategorySelect @getCategoryId=\"getCategoryId\" :show=\"!isShowTable\"></CategorySelect>\n    </el-card>\n    <el-card>\n      <div v-show=\"isShowTable\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          :disabled=\"!category3Id\"\n          @click=\"addAttr\"\n          >添加属性</el-button\n        >\n        <!-- 表格:展示平台属性 -->\n        <el-table style=\"width: 100%\" border :data=\"attrList\">\n          <el-table-column type=\"index\" label=\"序号\" width=\"80\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"attrName\" label=\"属性名称\" width=\"150\">\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"属性值列表\" width=\"width\">\n            <template slot-scope=\"{ row, $index }\">\n              <el-tag\n                type=\"success\"\n                v-for=\"(attrValue, index) in row.attrValueList\"\n                :key=\"attrValue.id\"\n                style=\"margin: 0px 20px\"\n                >{{ attrValue.valueName }}</el-tag\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"prop\" label=\"操作\" width=\"150\">\n            <template slot-scope=\"{ row, $index }\">\n              <el-button\n                type=\"warning\"\n                icon=\"el-icon-edit\"\n                size=\"mini\"\n                @click=\"updateAttr(row)\"\n              ></el-button>\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n              ></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <!-- 添加属性|修改属性的结构 -->\n      <div v-show=\"!isShowTable\">\n        <el-form :inline=\"true\" ref=\"form\" label-width=\"80px\" :model=\"attrInfo\">\n          <el-form-item label=\"属性名\">\n            <el-input\n              placeholder=\"请输入属性名\"\n              v-model=\"attrInfo.attrName\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"addAttrValue\"\n          :disabled=\"!attrInfo.attrName\"\n          >添加属性值</el-button\n        >\n        <el-button @click=\"isShowTable = true\">取消</el-button>\n        <el-table\n          style=\"width: 100%; margin: 20px 0px\"\n          border\n          :data=\"attrInfo.attrValueList\"\n        >\n          <el-table-column align=\"center\" type=\"index\" label=\"序号\" width=\"80\">\n          </el-table-column>\n          <el-table-column width=\"width\" prop=\"prop\" label=\"属性值名称\">\n            <template slot-scope=\"{ row, $index }\">\n              <!-- 这里结构需要用到span与input进行来回的切换 -->\n              <el-input\n                v-model=\"row.valueName\"\n                placeholder=\"请输入属性值名称\"\n                size=\"mini\"\n                v-if=\"row.flag\"\n                @blur=\"toLook(row)\"\n                @keyup.native.enter=\"toLook(row)\"\n                :ref=\"$index\"\n              ></el-input>\n              <span\n                v-else\n                @click=\"toEdit(row, $index)\"\n                style=\"display: block\"\n                >{{ row.valueName }}</span\n              >\n            </template>\n          </el-table-column>\n          <el-table-column width=\"width\" prop=\"prop\" label=\"操作\">\n            <template slot-scope=\"{ row, $index }\">\n              <!-- 气泡确认框 -->\n              <el-popconfirm :title=\"`确定删除${row.valueName}?`\" @onConfirm=\"deleteAttrValue($index)\">\n                <el-button\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  size=\"mini\"\n                  slot=\"reference\"\n                ></el-button>\n              </el-popconfirm>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-button type=\"primary\" @click=\"addOrUpdateAttr\" :disabled=\"attrInfo.attrValueList.length<1\">保存</el-button>\n        <el-button @click=\"isShowTable = true\">取消</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n//按需引入lodash当中的深拷贝\nimport cloneDeep from \"lodash/cloneDeep\";\nexport default {\n  name: \"Attr\",\n  data() {\n    return {\n      category1Id: \"\",\n      category2Id: \"\",\n      category3Id: \"\",\n      //接受平台属性的数据\n      attrList: [],\n      //这个属性控制table表格显示与隐藏的\n      isShowTable: true,\n      //收集新增属性|修改属性使用的\n      attrInfo: {\n        attrName: \"\", //属性名\n        attrValueList: [\n          //属性值，因为属性值可以有多个，因此用数组，每一个属性值都是一个对象，需要attrId，valueName\n        //  {\n        //     attrId: 0,          //相应的属性名的id\n        //     valueName: \"\",  //属性值\n        //  }\n        ],\n        categoryId: 0, //三级分类的id\n        categoryLevel: 3, //因为服务器也需要区分几级id\n      },\n    };\n  },\n  methods: {\n    //自定义事件的回调\n    getCategoryId({ categoryId, level }) {\n      // console.log(categoryId);\n      //区分三级分类相应的id，以及父组件进行存储\n      if (level == 1) {\n        this.category1Id = categoryId;\n        this.category2Id = \"\";\n        this.category3Id = \"\";\n      } else if (level == 2) {\n        this.category2Id = categoryId;\n        this.category3Id = \"\";\n      } else {\n        //代表三级分类的id有了\n        this.category3Id = categoryId;\n        //发请求获取平台的属性数据\n        this.getAttrList();\n      }\n    },\n    //获取平台属性的数据\n    //当用户确定三级分类的数据时候，可以向服务器发请求获取平台属性进行展示\n    async getAttrList() {\n      //获取分类的ID\n      const { category1Id, category2Id, category3Id } = this;\n      //获取属性列表的数据\n      let result = await this.$API.attr.reqAttrList(\n        category1Id,\n        category2Id,\n        category3Id\n      );\n      // console.log(result);\n      if (result.code == 200) {\n        this.attrList = result.data;\n      }\n    },\n    //添加属性值回调\n    addAttrValue() {\n      //向属性值的数组里面添加元素\n      //attrId：是你相应的属性的id，目前而言我们是添加属性的操作，还没有相应的属性的id，目前而言带给服务器的id为undefined\n      //valueName:相应的属性值的名称\n      this.attrInfo.attrValueList.push({\n        attrId: this.attrInfo.id, //对于修改某一个属性的时候，可以在已有的属性值基础之上新增新的属性值（新增属性值的时候，需要把已有的属性的id带上）\n        valueName: \"\",\n        flag: true,\n      });\n      //flag属性：给每一个属性值添加一个标记flag，用户切换查看模式与编辑模式，好处，每一个属性值可以控制自己的模式切换\n      //当前flag属性，响应式数据（数据变化视图跟着变化）\n      this.$nextTick(() => {\n        this.$refs[this.attrInfo.attrValueList.length - 1].focus();\n      });\n    },\n    //添加属性按钮的回调\n    addAttr() {\n      //切换table显示与隐藏\n      this.isShowTable = false;\n      //清除数据\n      //收集三级分类的id\n      this.attrInfo = {\n        attrName: \"\", //属性名\n        attrValueList: [\n          //属性值，因为属性值可以有多个因此用数组，每一个属性值都是一个对象需要attrId，valueName\n        ],\n        categoryId: this.category3Id, //三级分类的id\n        categoryLevel: 3, //因为服务器也需要区分几级id\n      };\n    },\n    //修改某一个属性\n    updateAttr(row) {\n      //isShowTable变为false\n      this.isShowTable = false;\n      //将选中的属性赋值给attrInfo\n      //由于数据结构当中存在对象里面套数组，数组里面又套对象，因此需要使用深拷贝解决这类问题\n      //深拷贝，浅拷贝在面试的时候出现频率很高，切记达到手写深拷贝与浅拷贝\n      this.attrInfo = cloneDeep(row);\n      //在修改某一个属性的时候，将相应的属性值元素添加上flag这个标记\n      this.attrInfo.attrValueList.forEach((item) => {\n        //这样书写也可以给属性值添加flag自动，但是会发现视图不会跟着变化（因为flag不是响应式数据）\n        //因为Vue无法探测普通的新增 property,这样书写的属性并非响应式属性（数据变化视图跟着变）\n        //第一个参数:对象  第二个参数:添加新的响应式属性  第三参数：新的属性的属性值\n        this.$set(item, \"flag\", false);\n      });\n    },\n    //失去焦点的事件---切换为查看模式，展示span\n    toLook(row) {\n      // 如果属性值为空不能作为新的属性值，需要给用户提示，让他输入一个其他的属性值\n       if(row.valueName.trim()==''){\n         this.$message('请你输入一个正常的属性值');\n         return;\n       }\n       //新增的属性值不能与已有的属性值重复\n      let isRepat  = this.attrInfo.attrValueList.some(item=>{\n          //需要将row从数组里面判断的时候去除\n          //row最新新增的属性值【数组的最后一项元素】\n          //判断的时候，需要把已有的数组当中新增的这个属性值去除\n          if(row!==item){\n            return row.valueName==item.valueName;\n          }\n       });\n\n       if(isRepat) return;\n      // row：形参是当前用户添加的最新的属性值\n      // 当前编辑模式变为查看模式【让input消失，显示span】\n      row.flag = false;\n    },\n    //点击span的回调，变为编辑模式\n    toEdit(row, index) {\n      row.flag = true;\n      //获取input节点，实现自动聚焦\n      //需要注意：点击span的时候，切换为input变为编辑模式，但是需要注意，对于浏览器而言，页面重绘与重排是耗时间的\n      //点击span的时候，重绘重排一个input它是需要耗费时间的，因此我们不可能一点击span立马获取到input\n      //$nextTick,当节点渲染完毕了，会执行一次\n      this.$nextTick(() => {\n        //获取相应的input表单元素实现聚焦\n        this.$refs[index].focus();\n      });\n    },\n    //气泡确认框确定按钮的回调\n    //最新版本的ElementUI----2.15.6，目前模板中的版本号2.13.2  使用：onConfirm，不能直接使用：confirm\n    deleteAttrValue(index){\n      //当前删除属性值的操作是不需要发请求的\n       this.attrInfo.attrValueList.splice(index,1);\n    },\n    //保存按钮：进行添加属性或者修改属性的操作\n    async addOrUpdateAttr(){\n      //整理参数:\n      //1,如果用户添加很多属性值，且属性值为空的不应该提交给服务器\n      //2.提交给服务器数据当中不应该出现flag字段\n      this.attrInfo.attrValueList = this.attrInfo.attrValueList.filter(item=>{\n          //过滤掉属性值不是空的\n          if(item.valueName!=''){\n            //删除掉flag属性\n            delete item.flag;\n            return true;\n          }\n      })\n      try {\n         //发请求\n        await this.$API.attr.reqAddOrUpdateAttr(this.attrInfo);\n        //展示平台属性的信号量进行切换\n        this.isShowTable = true;\n        //提示消失\n        this.$message({type:'success',message:'保存成功'});\n        //保存成功以后需要再次获取平台属性进行展示\n        this.getAttrList();\n      } catch (error) {\n        // this.$message('保存失败')\n      }\n\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}